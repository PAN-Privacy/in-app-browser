import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
var MetrixConfig = /** @class */ (function () {
    function MetrixConfig(appId) {
        this.secretId = null;
        this.info1 = null;
        this.info2 = null;
        this.info3 = null;
        this.info4 = null;
        this.defaultTrackerToken = null;
        this.shouldLaunchDeeplink = false;
        this.firebaseAppId = null;
        this.firebaseProjectId = null;
        this.firebaseApiKey = null;
        this.isLocationListeningEnable = false;
        this.eventUploadThreshold = null;
        this.eventUploadMaxBatchSize = null;
        this.eventMaxCount = null;
        this.eventUploadPeriodMillis = null;
        this.sessionTimeoutMillis = null;
        this.store = null;
        this.userIdListener = null;
        this.sessionIdListener = null;
        this.attributionChangeListener = null;
        this.deeplinkResponseListener = null;
        this.appId = appId;
    }
    MetrixConfig.prototype.setDefaultTracker = function (defaultTrackerToken) {
        this.defaultTrackerToken = defaultTrackerToken;
    };
    MetrixConfig.prototype.setFirebaseId = function (firebaseAppId, firebaseProjectId, firebaseApiKey) {
        this.firebaseAppId = firebaseAppId;
        this.firebaseProjectId = firebaseProjectId;
        this.firebaseApiKey = firebaseApiKey;
    };
    MetrixConfig.prototype.setAppSecret = function (secretId, info1, info2, info3, info4) {
        this.secretId = secretId;
        this.info1 = info1;
        this.info2 = info2;
        this.info3 = info3;
        this.info4 = info4;
    };
    MetrixConfig.prototype.setShouldLaunchDeeplink = function (shouldLaunchDeeplink) {
        this.shouldLaunchDeeplink = shouldLaunchDeeplink;
    };
    MetrixConfig.prototype.setOnAttributionChangeListener = function (attributionChangeListener) {
        this.attributionChangeListener = attributionChangeListener;
    };
    MetrixConfig.prototype.setOnDeeplinkResponseListener = function (deeplinkResponseListener) {
        this.deeplinkResponseListener = deeplinkResponseListener;
    };
    MetrixConfig.prototype.setOnReceiveUserIdListener = function (userIdListener) {
        this.userIdListener = userIdListener;
    };
    MetrixConfig.prototype.setOnSessionIdListener = function (sessionIdListener) {
        this.sessionIdListener = sessionIdListener;
    };
    MetrixConfig.prototype.setLocationListening = function (isLocationListeningEnable) {
        this.isLocationListeningEnable = isLocationListeningEnable;
    };
    MetrixConfig.prototype.setEventUploadThreshold = function (threshold) {
        this.eventUploadThreshold = threshold;
    };
    MetrixConfig.prototype.setEventUploadMaxBatchSize = function (size) {
        this.eventUploadMaxBatchSize = size;
    };
    MetrixConfig.prototype.setEventMaxCount = function (count) {
        this.eventMaxCount = count;
    };
    MetrixConfig.prototype.setEventUploadPeriodMillis = function (period) {
        this.eventUploadPeriodMillis = period;
    };
    MetrixConfig.prototype.setSessionTimeoutMillis = function (timeout) {
        this.sessionTimeoutMillis = timeout;
    };
    MetrixConfig.prototype.setStore = function (store) {
        this.store = store;
    };
    MetrixConfig.prototype.getAttributionChangeListener = function () {
        return this.attributionChangeListener;
    };
    MetrixConfig.prototype.getDeeplinkResponseListener = function () {
        return this.deeplinkResponseListener;
    };
    MetrixConfig.prototype.getOnReceiveUserIdListener = function () {
        return this.userIdListener;
    };
    MetrixConfig.prototype.getOnSessionIdListener = function () {
        return this.sessionIdListener;
    };
    MetrixConfig.prototype.hasAttributionChangeListener = function () {
        return this.attributionChangeListener !== null;
    };
    MetrixConfig.prototype.hasDeeplinkResponseListener = function () {
        return this.deeplinkResponseListener !== null;
    };
    MetrixConfig.prototype.hasUserIdListener = function () {
        return this.userIdListener !== null;
    };
    MetrixConfig.prototype.hasSessionIdListener = function () {
        return this.sessionIdListener !== null;
    };
    return MetrixConfig;
}());
export { MetrixConfig };
export var MetrixAttributionStatus;
(function (MetrixAttributionStatus) {
    MetrixAttributionStatus["Attributed"] = "ATTRIBUTED";
    MetrixAttributionStatus["NotAttributedYet"] = "NOT_ATTRIBUTED_YET";
    MetrixAttributionStatus["AttributionNotNeeded"] = "ATTRIBUTION_NOT_NEEDED";
    MetrixAttributionStatus["Unknown"] = "UNKNOWN";
})(MetrixAttributionStatus || (MetrixAttributionStatus = {}));
var Metrix = /** @class */ (function (_super) {
    __extends(Metrix, _super);
    function Metrix() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Metrix.prototype.create = function (config) { return cordova(this, "create", { "sync": true }, arguments); };
    Metrix.prototype.getSessionNum = function () { return cordova(this, "getSessionNum", {}, arguments); };
    Metrix.prototype.newEvent = function (slug, attributes) { return cordova(this, "newEvent", { "sync": true }, arguments); };
    Metrix.prototype.addUserAttributes = function (attributes) { return cordova(this, "addUserAttributes", { "sync": true }, arguments); };
    Metrix.prototype.newRevenue = function (slug, amount, currency, orderId) { return cordova(this, "newRevenue", { "sync": true }, arguments); };
    Metrix.prototype.appWillOpenUrl = function (url) { return cordova(this, "appWillOpenUrl", { "sync": true }, arguments); };
    Metrix.pluginName = "Metrix";
    Metrix.plugin = "ir.metrix.sdk";
    Metrix.pluginRef = "Metrix";
    Metrix.repo = "https://github.com/metrixorg/MetrixSDK-CordovaPlugin";
    Metrix.platforms = ["Android"];
    Metrix.decorators = [
        { type: Injectable }
    ];
    return Metrix;
}(IonicNativePlugin));
export { Metrix };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL21ldHJpeC9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQzs7SUEyQnRFLHNCQUFZLEtBQWE7UUF2QmpCLGFBQVEsR0FBVyxJQUFJLENBQUM7UUFDeEIsVUFBSyxHQUFXLElBQUksQ0FBQztRQUNyQixVQUFLLEdBQVcsSUFBSSxDQUFDO1FBQ3JCLFVBQUssR0FBVyxJQUFJLENBQUM7UUFDckIsVUFBSyxHQUFXLElBQUksQ0FBQztRQUNyQix3QkFBbUIsR0FBVyxJQUFJLENBQUM7UUFDbkMseUJBQW9CLEdBQUcsS0FBSyxDQUFDO1FBQzdCLGtCQUFhLEdBQVcsSUFBSSxDQUFDO1FBQzdCLHNCQUFpQixHQUFXLElBQUksQ0FBQztRQUNqQyxtQkFBYyxHQUFXLElBQUksQ0FBQztRQUM5Qiw4QkFBeUIsR0FBRyxLQUFLLENBQUM7UUFDbEMseUJBQW9CLEdBQVcsSUFBSSxDQUFDO1FBQ3BDLDRCQUF1QixHQUFXLElBQUksQ0FBQztRQUN2QyxrQkFBYSxHQUFXLElBQUksQ0FBQztRQUM3Qiw0QkFBdUIsR0FBVyxJQUFJLENBQUM7UUFDdkMseUJBQW9CLEdBQVcsSUFBSSxDQUFDO1FBQ3BDLFVBQUssR0FBVyxJQUFJLENBQUM7UUFFckIsbUJBQWMsR0FBNkIsSUFBSSxDQUFDO1FBQ2hELHNCQUFpQixHQUFnQyxJQUFJLENBQUM7UUFDdEQsOEJBQXlCLEdBQTZDLElBQUksQ0FBQztRQUMzRSw2QkFBd0IsR0FBMEIsSUFBSSxDQUFDO1FBRzdELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFRCx3Q0FBaUIsR0FBakIsVUFBa0IsbUJBQTJCO1FBQzND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QUNoRCxDQUFDO0lBRU8sd0NBQWlCLEdBQXpCO1FBQ0UsT0FBTyxJQUFJLENBQUMsY0FBYyxLQUFLLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRU8sMkNBQW9CLEdBQTVCO1FBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxDQUFDO0lBQ3pDLENBQUM7dUJBaElIOzs7QUEySUEsTUFBTSxDQUFOLElBQVksdUJBS1g7QUFMRCxXQUFZLHVCQUF1QjtJQUNqQyxvREFBeUIsQ0FBQTtJQUN6QixrRUFBdUMsQ0FBQTtJQUN2QywwRUFBK0MsQ0FBQTtJQUMvQyw4Q0FBbUIsQ0FBQTtBQUNyQixDQUFDLEVBTFcsdUJBQXVCLEtBQXZCLHVCQUF1QixRQUtsQzs7SUFxQzJCLDBCQUFpQjs7OztJQU0zQyx1QkFBTSxhQUFDLE1BQW9CO0lBTzNCLDhCQUFhO0lBVWIseUJBQVEsYUFBQyxJQUFZLEVBQUUsVUFBeUM7SUFPaEUsa0NBQWlCLGFBQUMsVUFBd0M7SUFVMUQsMkJBQVUsYUFBQyxJQUFZLEVBQUUsTUFBYyxFQUFFLFFBQWlCLEVBQUUsT0FBZ0I7SUFPNUUsK0JBQWMsYUFBQyxHQUFXOzs7Ozs7O2dCQWhEM0IsVUFBVTs7aUJBcExYO0VBcUw0QixpQkFBaUI7U0FBaEMsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvcmRvdmEsIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgTWV0cml4Q29uZmlnIHtcbiAgcHJpdmF0ZSBhcHBJZDogc3RyaW5nO1xuICBwcml2YXRlIHNlY3JldElkOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIGluZm8xOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIGluZm8yOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIGluZm8zOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIGluZm80OiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIGRlZmF1bHRUcmFja2VyVG9rZW46IHN0cmluZyA9IG51bGw7XG4gIHByaXZhdGUgc2hvdWxkTGF1bmNoRGVlcGxpbmsgPSBmYWxzZTtcbiAgcHJpdmF0ZSBmaXJlYmFzZUFwcElkOiBzdHJpbmcgPSBudWxsO1xuICBwcml2YXRlIGZpcmViYXNlUHJvamVjdElkOiBzdHJpbmcgPSBudWxsO1xuICBwcml2YXRlIGZpcmViYXNlQXBpS2V5OiBzdHJpbmcgPSBudWxsO1xuICBwcml2YXRlIGlzTG9jYXRpb25MaXN0ZW5pbmdFbmFibGUgPSBmYWxzZTtcbiAgcHJpdmF0ZSBldmVudFVwbG9hZFRocmVzaG9sZDogbnVtYmVyID0gbnVsbDtcbiAgcHJpdmF0ZSBldmVudFVwbG9hZE1heEJhdGNoU2l6ZTogbnVtYmVyID0gbnVsbDtcbiAgcHJpdmF0ZSBldmVudE1heENvdW50OiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIGV2ZW50VXBsb2FkUGVyaW9kTWlsbGlzOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIHNlc3Npb25UaW1lb3V0TWlsbGlzOiBudW1iZXIgPSBudWxsO1xuICBwcml2YXRlIHN0b3JlOiBzdHJpbmcgPSBudWxsO1xuXG4gIHByaXZhdGUgdXNlcklkTGlzdGVuZXI6ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZCA9IG51bGw7XG4gIHByaXZhdGUgc2Vzc2lvbklkTGlzdGVuZXI6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZCA9IG51bGw7XG4gIHByaXZhdGUgYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcjogKGF0dHJpYnV0aW9uOiBNZXRyaXhBdHRyaWJ1dGlvbikgPT4gdm9pZCA9IG51bGw7XG4gIHByaXZhdGUgZGVlcGxpbmtSZXNwb25zZUxpc3RlbmVyOiAodXJpOiBzdHJpbmcpID0+IHZvaWQgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGFwcElkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFwcElkID0gYXBwSWQ7XG4gIH1cblxuICBzZXREZWZhdWx0VHJhY2tlcihkZWZhdWx0VHJhY2tlclRva2VuOiBzdHJpbmcpIHtcbiAgICB0aGlzLmRlZmF1bHRUcmFja2VyVG9rZW4gPSBkZWZhdWx0VHJhY2tlclRva2VuO1xuICB9XG5cbiAgc2V0RmlyZWJhc2VJZChmaXJlYmFzZUFwcElkOiBzdHJpbmcsIGZpcmViYXNlUHJvamVjdElkOiBzdHJpbmcsIGZpcmViYXNlQXBpS2V5OiBzdHJpbmcpIHtcbiAgICB0aGlzLmZpcmViYXNlQXBwSWQgPSBmaXJlYmFzZUFwcElkO1xuICAgIHRoaXMuZmlyZWJhc2VQcm9qZWN0SWQgPSBmaXJlYmFzZVByb2plY3RJZDtcbiAgICB0aGlzLmZpcmViYXNlQXBpS2V5ID0gZmlyZWJhc2VBcGlLZXk7XG4gIH1cblxuICBzZXRBcHBTZWNyZXQoc2VjcmV0SWQ6IG51bWJlciwgaW5mbzE6IG51bWJlciwgaW5mbzI6IG51bWJlciwgaW5mbzM6IG51bWJlciwgaW5mbzQ6IG51bWJlcikge1xuICAgIHRoaXMuc2VjcmV0SWQgPSBzZWNyZXRJZDtcbiAgICB0aGlzLmluZm8xID0gaW5mbzE7XG4gICAgdGhpcy5pbmZvMiA9IGluZm8yO1xuICAgIHRoaXMuaW5mbzMgPSBpbmZvMztcbiAgICB0aGlzLmluZm80ID0gaW5mbzQ7XG4gIH1cblxuICBzZXRTaG91bGRMYXVuY2hEZWVwbGluayhzaG91bGRMYXVuY2hEZWVwbGluazogYm9vbGVhbikge1xuICAgIHRoaXMuc2hvdWxkTGF1bmNoRGVlcGxpbmsgPSBzaG91bGRMYXVuY2hEZWVwbGluaztcbiAgfVxuXG4gIHNldE9uQXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcihhdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyOiAoYXR0cmlidXRpb246IE1ldHJpeEF0dHJpYnV0aW9uKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyID0gYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcjtcbiAgfVxuXG4gIHNldE9uRGVlcGxpbmtSZXNwb25zZUxpc3RlbmVyKGRlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcjogKHVyaTogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5kZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXIgPSBkZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXI7XG4gIH1cblxuICBzZXRPblJlY2VpdmVVc2VySWRMaXN0ZW5lcih1c2VySWRMaXN0ZW5lcjogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy51c2VySWRMaXN0ZW5lciA9IHVzZXJJZExpc3RlbmVyO1xuICB9XG5cbiAgc2V0T25TZXNzaW9uSWRMaXN0ZW5lcihzZXNzaW9uSWRMaXN0ZW5lcjogKHNlc3Npb25JZDogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5zZXNzaW9uSWRMaXN0ZW5lciA9IHNlc3Npb25JZExpc3RlbmVyO1xuICB9XG5cbiAgc2V0TG9jYXRpb25MaXN0ZW5pbmcoaXNMb2NhdGlvbkxpc3RlbmluZ0VuYWJsZTogYm9vbGVhbikge1xuICAgIHRoaXMuaXNMb2NhdGlvbkxpc3RlbmluZ0VuYWJsZSA9IGlzTG9jYXRpb25MaXN0ZW5pbmdFbmFibGU7XG4gIH1cblxuICBzZXRFdmVudFVwbG9hZFRocmVzaG9sZCh0aHJlc2hvbGQ6IG51bWJlcikge1xuICAgIHRoaXMuZXZlbnRVcGxvYWRUaHJlc2hvbGQgPSB0aHJlc2hvbGQ7XG4gIH1cblxuICBzZXRFdmVudFVwbG9hZE1heEJhdGNoU2l6ZShzaXplOiBudW1iZXIpIHtcbiAgICB0aGlzLmV2ZW50VXBsb2FkTWF4QmF0Y2hTaXplID0gc2l6ZTtcbiAgfVxuXG4gIHNldEV2ZW50TWF4Q291bnQoY291bnQ6IG51bWJlcikge1xuICAgIHRoaXMuZXZlbnRNYXhDb3VudCA9IGNvdW50O1xuICB9XG5cbiAgc2V0RXZlbnRVcGxvYWRQZXJpb2RNaWxsaXMocGVyaW9kOiBudW1iZXIpIHtcbiAgICB0aGlzLmV2ZW50VXBsb2FkUGVyaW9kTWlsbGlzID0gcGVyaW9kO1xuICB9XG5cbiAgc2V0U2Vzc2lvblRpbWVvdXRNaWxsaXModGltZW91dDogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXNzaW9uVGltZW91dE1pbGxpcyA9IHRpbWVvdXQ7XG4gIH1cblxuICBzZXRTdG9yZShzdG9yZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRBdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXI7XG4gIH1cblxuICBwcml2YXRlIGdldERlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcigpIHtcbiAgICByZXR1cm4gdGhpcy5kZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXI7XG4gIH1cblxuICBwcml2YXRlIGdldE9uUmVjZWl2ZVVzZXJJZExpc3RlbmVyKCkge1xuICAgIHJldHVybiB0aGlzLnVzZXJJZExpc3RlbmVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRPblNlc3Npb25JZExpc3RlbmVyKCkge1xuICAgIHJldHVybiB0aGlzLnNlc3Npb25JZExpc3RlbmVyO1xuICB9XG5cbiAgcHJpdmF0ZSBoYXNBdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyKCkge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXIgIT09IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGhhc0RlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcigpIHtcbiAgICByZXR1cm4gdGhpcy5kZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXIgIT09IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGhhc1VzZXJJZExpc3RlbmVyKCkge1xuICAgIHJldHVybiB0aGlzLnVzZXJJZExpc3RlbmVyICE9PSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBoYXNTZXNzaW9uSWRMaXN0ZW5lcigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXNzaW9uSWRMaXN0ZW5lciAhPT0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1ldHJpeEF0dHJpYnV0aW9uIHtcbiAgYWNxdWlzaXRpb25BZDogc3RyaW5nO1xuICBhY3F1aXNpdGlvbkFkU2V0OiBzdHJpbmc7XG4gIGFjcXVpc2l0aW9uQ2FtcGFpZ246IHN0cmluZztcbiAgYWNxdWlzaXRpb25Tb3VyY2U6IHN0cmluZztcbiAgYXR0cmlidXRpb25TdGF0dXM6IE1ldHJpeEF0dHJpYnV0aW9uU3RhdHVzO1xufVxuXG5leHBvcnQgZW51bSBNZXRyaXhBdHRyaWJ1dGlvblN0YXR1cyB7XG4gIEF0dHJpYnV0ZWQgPSAnQVRUUklCVVRFRCcsXG4gIE5vdEF0dHJpYnV0ZWRZZXQgPSAnTk9UX0FUVFJJQlVURURfWUVUJyxcbiAgQXR0cmlidXRpb25Ob3ROZWVkZWQgPSAnQVRUUklCVVRJT05fTk9UX05FRURFRCcsXG4gIFVua25vd24gPSAnVU5LTk9XTicsXG59XG5cbi8qKlxuICogQG5hbWUgTWV0cml4XG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgaXMgdGhlIElvbmljIENvcmRvdmEgU0RLIG9mIE1ldHJpeOKEoi4gWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgTWV0cml44oSiIGF0IG1ldHJpeC5pci5cbiAqXG4gKiBSZXF1aXJlcyBDb3Jkb3ZhIHBsdWdpbjogYGlyLm1ldHJpeC5zZGtgLiBGb3IgbW9yZSBpbmZvLCBwbGVhc2Ugc2VlIHRoZSBbTWV0cml4IENvcmRvdmEgU0RLXShodHRwczovL2dpdGh1Yi5jb20vbWV0cml4b3JnL01ldHJpeFNESy1Db3Jkb3ZhUGx1Z2luKVxuICpcbiAqIEB1c2FnZVxuICogYGBgdHlwZXNjcmlwdFxuICogIGltcG9ydCB7IE1ldHJpeCwgTWV0cml4Q29uZmlnIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9tZXRyaXgnO1xuICpcbiAqICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1ldHJpeDogTWV0cml4KSB7IH1cbiAqXG4gKiAgLi4uXG4gKlxuICogIGNvbnN0IGNvbmZpZyA9IG5ldyBNZXRyaXhDb25maWcoJ0FQUC1JRC1IRVJFJyk7XG4gKiAgLy8gU2V0IG90aGVyIGNvbmZpZyBwcm9wZXJ0aWVzLlxuICogIG1ldHJpeC5jcmVhdGUoY29uZmlnKTtcbiAqXG4gKiBgYGBcbiAqIEBpbnRlcmZhY2VzXG4gKiBNZXRyaXhBdHRyaWJ1dGlvblxuICogQGNsYXNzZXNcbiAqIE1ldHJpeENvbmZpZ1xuICogQGVudW1zXG4gKiBNZXRyaXhBdHRyaWJ1dGlvblN0YXR1c1xuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ01ldHJpeCcsXG4gIHBsdWdpbjogJ2lyLm1ldHJpeC5zZGsnLFxuICBwbHVnaW5SZWY6ICdNZXRyaXgnLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL21ldHJpeG9yZy9NZXRyaXhTREstQ29yZG92YVBsdWdpbicsXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJ10sXG59KVxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1ldHJpeCBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGluaXRpYWxpemVzIE1ldHJpeCBTREtcbiAgICogQHBhcmFtIHtNZXRyaXhDb25maWd9IGNvbmZpZyBNZXRyaXhDb25maWcgb2JqZWN0IHVzZWQgYXMgc3RhcnRpbmcgb3B0aW9uc1xuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGNyZWF0ZShjb25maWc6IE1ldHJpeENvbmZpZyk6IHZvaWQge31cblxuICAvKipcbiAgICogRnVuY3Rpb24gdXNlZCB0byBnZXQgU2Vzc2lvbiBOdW1iZXJcbiAgICogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHNlc3Npb24gbnVtYmVyIHZhbHVlXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldFNlc3Npb25OdW0oKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgdHJhY2tzIGFuIGV2ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzbHVnIHRoZSBzbHVnIG9mIHRoZSBldmVudCB0byBiZSB0cmFja2VkXG4gICAqIEBwYXJhbSB7TWFwPFN0cmluZywgU3RyaW5nPiB8IG9iamVjdH0gYXR0cmlidXRlcyBvcHRpb25hbCBhdHRyaWJ1dGVzIG9mIHRoZSBldmVudCB0byBiZSB0cmFja2VkXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgbmV3RXZlbnQoc2x1Zzogc3RyaW5nLCBhdHRyaWJ1dGVzPzogTWFwPFN0cmluZywgU3RyaW5nPiB8IG9iamVjdCk6IHZvaWQge31cblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgYWRkcyB0aGUgcHJvdmlkZWQgYXR0cmlidXRlcyB0byBhbGwgbWV0cml4IGV2ZW50c1xuICAgKiBAcGFyYW0ge01hcDxTdHJpbmcsIFN0cmluZz4gfCBvYmplY3R9IGF0dHJpYnV0ZXMgdGhlIGF0dHJpYnV0ZXMgdG8gYmUgYWRkZWQgdG8gYWxsIGZ1dHVyZSBldmVudHNcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBhZGRVc2VyQXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBNYXA8U3RyaW5nLCBTdHJpbmc+IHwgb2JqZWN0KTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCB0cmFja3MgYSByZXZlbnVlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzbHVnIHRoZSBzbHVnIG9mIHRoZSBldmVudCB0byBiZSB0cmFja2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgdGhlIGFtb3VudCBvZiBtb25leSBnYWluZWQgYnkgdGhlIHJldmVudWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbmN5IChPUFRJT05BTCkgY3VycmVuY3kgb2YgdGhlIGFtb3VudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3JkZXJJZCAoT1BUSU9OQUwpIGlkIG9mIHRoZSByZXZlbnVlXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgbmV3UmV2ZW51ZShzbHVnOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBjdXJyZW5jeT86IG51bWJlciwgb3JkZXJJZD86IHN0cmluZyk6IHZvaWQge31cblxuICAvKipcbiAgICogQnkgbWFraW5nIHRoaXMgY2FsbCwgdGhlIE1ldHJpeCBTREsgd2lsbCB0cnkgdG8gZmluZCBpZiB0aGVyZSBpcyBhbnkgbmV3IGF0dHJpYnV0aW9uIGluZm8gaW5zaWRlIG9mIHRoZSBkZWVwIGxpbmsgYW5kIGlmIGFueSwgaXQgd2lsbCBiZSBzZW50IHRvIHRoZSBNZXRyaXggYmFja2VuZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgb2YgdGhlIGRlZXBsaW5rXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgYXBwV2lsbE9wZW5VcmwodXJsOiBzdHJpbmcpOiB2b2lkIHt9XG59XG4iXX0=