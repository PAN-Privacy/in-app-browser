var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
/**
 * @hidden
 *
 * Wraps method that returns an observable that can be completed. Provided opts.resultFinalPredicate dictates when the observable completes.
 */
export function CordovaFiniteObservable(opts) {
    if (opts === void 0) { opts = {}; }
    opts.observable = true;
    return function (target, methodName, descriptor) {
        return {
            value: function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var wrappedObservable = wrap(this, methodName, opts).apply(this, args);
                return new Observable(function (observer) {
                    var wrappedSubscription = wrappedObservable.subscribe({
                        next: function (x) {
                            observer.next(opts.resultTransform ? x[opts.resultTransform] : x);
                            if (opts.resultFinalPredicate && x[opts.resultFinalPredicate]) {
                                observer.complete();
                            }
                        },
                        error: function (err) {
                            observer.error(err);
                        },
                        complete: function () {
                            observer.complete();
                        },
                    });
                    return function () {
                        wrappedSubscription.unsubscribe();
                    };
                });
            },
            enumerable: true,
        };
    };
}
var PhotoLibraryOriginal = /** @class */ (function (_super) {
    __extends(PhotoLibraryOriginal, _super);
    function PhotoLibraryOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PhotoLibraryOriginal.prototype.getLibrary = function (success, error, options) { return cordova(this, "getLibrary", { "observable": true }, arguments); };
    PhotoLibraryOriginal.prototype.requestAuthorization = function (options) { return cordova(this, "requestAuthorization", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibraryOriginal.prototype.getAlbums = function () { return cordova(this, "getAlbums", { "callbackOrder": "reverse" }, arguments); };
    PhotoLibraryOriginal.prototype.getThumbnailURL = function (photo, options) { return cordova(this, "getThumbnailURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getPhotoURL = function (photo, options) { return cordova(this, "getPhotoURL", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getThumbnail = function (photo, options) { return cordova(this, "getThumbnail", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.getPhoto = function (photo, options) { return cordova(this, "getPhoto", { "successIndex": 1, "errorIndex": 2 }, arguments); };
    PhotoLibraryOriginal.prototype.saveImage = function (url, album, options) { return cordova(this, "saveImage", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibraryOriginal.prototype.saveVideo = function (url, album) { return cordova(this, "saveVideo", { "successIndex": 2, "errorIndex": 3 }, arguments); };
    PhotoLibraryOriginal.pluginName = "PhotoLibrary";
    PhotoLibraryOriginal.plugin = "cordova-plugin-photo-library";
    PhotoLibraryOriginal.pluginRef = "cordova.plugins.photoLibrary";
    PhotoLibraryOriginal.repo = "https://github.com/terikon/cordova-plugin-photo-library";
    PhotoLibraryOriginal.install = "ionic cordova plugin add cordova-plugin-photo-library --variable PHOTO_LIBRARY_USAGE_DESCRIPTION=\"To choose photos\"";
    PhotoLibraryOriginal.installVariables = ["PHOTO_LIBRARY_USAGE_DESCRIPTION"];
    PhotoLibraryOriginal.platforms = ["Android", "Browser", "iOS"];
    return PhotoLibraryOriginal;
}(IonicNativePlugin));
var PhotoLibrary = new PhotoLibraryOriginal();
export { PhotoLibrary };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL3Bob3RvLWxpYnJhcnkvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sOEJBQTRELE1BQU0sb0JBQW9CLENBQUM7QUFDOUYsT0FBTyxFQUFFLFVBQVUsRUFBWSxNQUFNLE1BQU0sQ0FBQztBQWlCNUM7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxJQUF5QztJQUF6QyxxQkFBQSxFQUFBLFNBQXlDO0lBQy9FLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLE9BQU8sVUFBQyxNQUFjLEVBQUUsVUFBa0IsRUFBRSxVQUF3QztRQUNsRixPQUFPO1lBQ0wsS0FBSyxFQUFMO2dCQUFNLGNBQWM7cUJBQWQsVUFBYyxFQUFkLHFCQUFjLEVBQWQsSUFBYztvQkFBZCx5QkFBYzs7Z0JBQ2xCLElBQU0saUJBQWlCLEdBQW9CLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzFGLE9BQU8sSUFBSSxVQUFVLENBQU0sVUFBQyxRQUF1QjtvQkFDakQsSUFBTSxtQkFBbUIsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUM7d0JBQ3RELElBQUksRUFBRSxVQUFDLENBQU07NEJBQ1gsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs0QkFDbEUsSUFBSSxJQUFJLENBQUMsb0JBQW9CLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO2dDQUM3RCxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7NkJBQ3JCO3dCQUNILENBQUM7d0JBQ0QsS0FBSyxFQUFFLFVBQUMsR0FBUTs0QkFDZCxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUN0QixDQUFDO3dCQUNELFFBQVEsRUFBRTs0QkFDUixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7d0JBQ3RCLENBQUM7cUJBQ0YsQ0FBQyxDQUFDO29CQUNILE9BQU87d0JBQ0wsbUJBQW1CLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQ3BDLENBQUMsQ0FBQztnQkFDSixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7WUFDRCxVQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDO0lBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQzs7SUFrRGlDLGdDQUFpQjs7OztJQVNqRCxpQ0FBVSxhQUNSLE9BQTZCLEVBQzdCLEtBQTJCLEVBQzNCLE9BQTJCO0lBYTdCLDJDQUFvQixhQUFDLE9BQXFDO0lBVzFELGdDQUFTO0lBY1Qsc0NBQWUsYUFBQyxLQUEyQixFQUFFLE9BQTZCO0lBYzFFLGtDQUFXLGFBQUMsS0FBMkIsRUFBRSxPQUFhO0lBY3RELG1DQUFZLGFBQUMsS0FBMkIsRUFBRSxPQUE2QjtJQWN2RSwrQkFBUSxhQUFDLEtBQTJCLEVBQUUsT0FBYTtJQWdCbkQsZ0NBQVMsYUFBQyxHQUFXLEVBQUUsS0FBeUIsRUFBRSxPQUE2QjtJQWMvRSxnQ0FBUyxhQUFDLEdBQVcsRUFBRSxLQUF5Qjs7Ozs7Ozs7dUJBaE9sRDtFQXNHa0MsaUJBQWlCO1NBQXRDLFlBQVkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhT3B0aW9ucywgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiwgd3JhcCB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBPYnNlcnZlciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZU9wdGlvbnMgZXh0ZW5kcyBDb3Jkb3ZhT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGdldHMgYSByZXN1bHQgcmV0dXJuZWQgZnJvbSBwbHVnaW4ncyBzdWNjZXNzIGNhbGxiYWNrLCBhbmQgZGVjaWRlcyB3aGV0aGVyIGl0IGlzIGxhc3QgdmFsdWUgYW5kIG9ic2VydmFibGUgc2hvdWxkIGNvbXBsZXRlLlxuICAgKi9cbiAgcmVzdWx0RmluYWxQcmVkaWNhdGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGFmdGVyIHJlc3VsdEZpbmFsUHJlZGljYXRlLCBhbmQgcmVtb3ZlcyBzZXJ2aWNlIGRhdGEgdGhhdCBpbmRpY2F0ZXMgZW5kIG9mIHN0cmVhbSBmcm9tIHRoZSByZXN1bHQuXG4gICAqL1xuICByZXN1bHRUcmFuc2Zvcm0/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICpcbiAqIFdyYXBzIG1ldGhvZCB0aGF0IHJldHVybnMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBiZSBjb21wbGV0ZWQuIFByb3ZpZGVkIG9wdHMucmVzdWx0RmluYWxQcmVkaWNhdGUgZGljdGF0ZXMgd2hlbiB0aGUgb2JzZXJ2YWJsZSBjb21wbGV0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZShvcHRzOiBDb3Jkb3ZhRmluaXRlT2JzZXJ2YWJsZU9wdGlvbnMgPSB7fSkge1xuICBvcHRzLm9ic2VydmFibGUgPSB0cnVlO1xuICByZXR1cm4gKHRhcmdldDogT2JqZWN0LCBtZXRob2ROYW1lOiBzdHJpbmcsIGRlc2NyaXB0b3I6IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPGFueT4pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWUoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZE9ic2VydmFibGU6IE9ic2VydmFibGU8YW55PiA9IHdyYXAodGhpcywgbWV0aG9kTmFtZSwgb3B0cykuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxhbnk+KChvYnNlcnZlcjogT2JzZXJ2ZXI8YW55PikgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRTdWJzY3JpcHRpb24gPSB3cmFwcGVkT2JzZXJ2YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogKHg6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KG9wdHMucmVzdWx0VHJhbnNmb3JtID8geFtvcHRzLnJlc3VsdFRyYW5zZm9ybV0gOiB4KTtcbiAgICAgICAgICAgICAgaWYgKG9wdHMucmVzdWx0RmluYWxQcmVkaWNhdGUgJiYgeFtvcHRzLnJlc3VsdEZpbmFsUHJlZGljYXRlXSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogQG5hbWUgUGhvdG8gTGlicmFyeVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgUGhvdG9MaWJyYXJ5IHBsdWdpbiBhbGxvd3MgYWNjZXNzIHRvIHBob3RvcyBmcm9tIGRldmljZSBieSB1cmwuIFNvIHlvdSBjYW4gdXNlIHBsYWluIGltZyB0YWcgdG8gZGlzcGxheSBwaG90b3MgYW5kIHRoZWlyIHRodW1ibmFpbHMsIGFuZCBkaWZmZXJlbnQgM3JkIHBhcnR5IGxpYnJhcmllcyBhcyB3ZWxsLlxuICogU2F2aW5nIHBob3RvcyBhbmQgdmlkZW9zIHRvIHRoZSBsaWJyYXJ5IGlzIGFsc28gc3VwcG9ydGVkLlxuICogY2R2cGhvdG9saWJyYXJ5IHVybHMgc2hvdWxkIGJlIHRydXN0ZWQgYnkgQW5ndWxhci4gU2VlIHBsdWdpbiBob21lcGFnZSB0byBsZWFybiBob3cuXG4gKlxuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBQaG90b0xpYnJhcnkgfSBmcm9tICdAaW9uaWMtbmF0aXZlL3Bob3RvLWxpYnJhcnkvbmd4JztcbiAqXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIHBob3RvTGlicmFyeTogUGhvdG9MaWJyYXJ5KSB7IH1cbiAqXG4gKiB0aGlzLnBob3RvTGlicmFyeS5yZXF1ZXN0QXV0aG9yaXphdGlvbigpLnRoZW4oKCkgPT4ge1xuICogICB0aGlzLnBob3RvTGlicmFyeS5nZXRMaWJyYXJ5KCkuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiBsaWJyYXJ5ID0+IHtcbiAqICAgICAgIGxpYnJhcnkuZm9yRWFjaChmdW5jdGlvbihsaWJyYXJ5SXRlbSkge1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5pZCk7ICAgICAgICAgIC8vIElEIG9mIHRoZSBwaG90b1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS5waG90b1VSTCk7ICAgIC8vIENyb3NzLXBsYXRmb3JtIGFjY2VzcyB0byBwaG90b1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS50aHVtYm5haWxVUkwpOy8vIENyb3NzLXBsYXRmb3JtIGFjY2VzcyB0byB0aHVtYm5haWxcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uZmlsZU5hbWUpO1xuICogICAgICAgICBjb25zb2xlLmxvZyhsaWJyYXJ5SXRlbS53aWR0aCk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmhlaWdodCk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmNyZWF0aW9uRGF0ZSk7XG4gKiAgICAgICAgIGNvbnNvbGUubG9nKGxpYnJhcnlJdGVtLmxhdGl0dWRlKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0ubG9uZ2l0dWRlKTtcbiAqICAgICAgICAgY29uc29sZS5sb2cobGlicmFyeUl0ZW0uYWxidW1JZHMpOyAgICAvLyBhcnJheSBvZiBpZHMgb2YgYXBwcm9wcmlhdGUgQWxidW1JdGVtLCBvbmx5IG9mIGluY2x1ZGVBbGJ1bXNEYXRhIHdhcyB1c2VkXG4gKiAgICAgICB9KTtcbiAqICAgICB9LFxuICogICAgIGVycm9yOiBlcnIgPT4geyBjb25zb2xlLmxvZygnY291bGQgbm90IGdldCBwaG90b3MnKTsgfSxcbiAqICAgICBjb21wbGV0ZTogKCkgPT4geyBjb25zb2xlLmxvZygnZG9uZSBnZXR0aW5nIHBob3RvcycpOyB9XG4gKiAgIH0pO1xuICogfSlcbiAqIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coJ3Blcm1pc3Npb25zIHdlcmVuXFwndCBncmFudGVkJykpO1xuICpcbiAqIGBgYFxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ1Bob3RvTGlicmFyeScsXG4gIHBsdWdpbjogJ2NvcmRvdmEtcGx1Z2luLXBob3RvLWxpYnJhcnknLFxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMucGhvdG9MaWJyYXJ5JyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS90ZXJpa29uL2NvcmRvdmEtcGx1Z2luLXBob3RvLWxpYnJhcnknLFxuICBpbnN0YWxsOlxuICAgICdpb25pYyBjb3Jkb3ZhIHBsdWdpbiBhZGQgY29yZG92YS1wbHVnaW4tcGhvdG8tbGlicmFyeSAtLXZhcmlhYmxlIFBIT1RPX0xJQlJBUllfVVNBR0VfREVTQ1JJUFRJT049XCJUbyBjaG9vc2UgcGhvdG9zXCInLFxuICBpbnN0YWxsVmFyaWFibGVzOiBbJ1BIT1RPX0xJQlJBUllfVVNBR0VfREVTQ1JJUFRJT04nXSxcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnQnJvd3NlcicsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUGhvdG9MaWJyYXJ5IGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogUmV0cmlldmVzIGxpYnJhcnkgaXRlbXMuIExpYnJhcnkgaXRlbSBjb250YWlucyBwaG90byBtZXRhZGF0YSBsaWtlIHdpZHRoIGFuZCBoZWlnaHQsIGFzIHdlbGwgYXMgcGhvdG9VUkwgYW5kIHRodW1ibmFpbFVSTC5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldExpYnJhcnlPcHRpb25zfSBPcHRpb25hbCwgbGlrZSB0aHVtYm5haWwgc2l6ZSBhbmQgY2h1bmtzIHNldHRpbmdzLlxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPExpYnJhcnlJdGVtW10+fSBSZXR1cm5zIGxpYnJhcnkgaXRlbXMuIElmIGFwcHJvcHJpYXRlIG9wdGlvbiB3YXMgc2V0LCB3aWxsIGJlIHJldHVybmVkIGJ5IGNodW5rcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxuICB9KVxuICBnZXRMaWJyYXJ5KFxuICAgIHN1Y2Nlc3M/OiAocmVzPzogYW55KSA9PiB2b2lkLFxuICAgIGVycm9yPzogKGVycj86IGFueSkgPT4gdm9pZCxcbiAgICBvcHRpb25zPzogR2V0TGlicmFyeU9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxMaWJyYXJ5SXRlbVtdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEFza3MgdXNlciBwZXJtaXNzaW9uIHRvIGFjY2VzcyBwaG90byBsaWJyYXJ5LlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7UmVxdWVzdEF1dGhvcml6YXRpb25PcHRpb25zfSBPcHRpb25hbCwgbGlrZSB3aGV0aGVyIG9ubHkgcmVhZCBhY2Nlc3MgbmVlZGVkIG9yIHJlYWQvd3JpdGUuXG4gICAqIEByZXR1cm4geyBQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gcGVybWlzc2lvbnMgYXJlIGdyYW50ZWQsIGFuZCBmYWlscyB3aGVuIG5vdC5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScsXG4gIH0pXG4gIHJlcXVlc3RBdXRob3JpemF0aW9uKG9wdGlvbnM/OiBSZXF1ZXN0QXV0aG9yaXphdGlvbk9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBsaXN0IG9mIHBob3RvIGFsYnVtcyBvbiBkZXZpY2UuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8QWxidW1JdGVtW10+fSBSZXNvbHZlcyB0byBsaXN0IG9mIGFsYnVtcy5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBjYWxsYmFja09yZGVyOiAncmV2ZXJzZScsXG4gIH0pXG4gIGdldEFsYnVtcygpOiBQcm9taXNlPEFsYnVtSXRlbVtdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIG1lYW5zIHRvIHJlcXVlc3QgVVJMIG9mIHRodW1ibmFpbCwgd2l0aCBzcGVjaWZpZWQgc2l6ZSBvciBxdWFsaXR5LlxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvZiBwaG90bywgb3IgTGlicmFyeUl0ZW0uXG4gICAqIEBwYXJhbSBvcHRpb25zIHtHZXRUaHVtYm5haWxPcHRpb25zfSBPcHRpb25zLCBsaWtlIHRodW1ibmFpbCBzaXplIG9yIHF1YWxpdHkuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn0gUmVzb2x2ZXMgdG8gVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gIH0pXG4gIGdldFRodW1ibmFpbFVSTChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgbWVhbnMgdG8gcmVxdWVzdCBwaG90byBVUkwgYnkgaWQuXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9yIExpYnJhcnlJdGVtLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0UGhvdG9PcHRpb25zfSBPcHRpb25hbCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHN0cmluZz59IFJlc29sdmVzIHRvIFVSTCBvZiBjZHZwaG90b2xpYnJhcnkgc2NoZW1hLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBnZXRQaG90b1VSTChwaG90bzogc3RyaW5nIHwgTGlicmFyeUl0ZW0sIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRodW1ibmFpbCBhcyBCbG9iLlxuICAgKiBAcGFyYW0gcGhvdG8ge3N0cmluZyB8IExpYnJhcnlJdGVtfSBJZCBvciBMaWJyYXJ5SXRlbS5cbiAgICogQHBhcmFtIG9wdGlvbnMge0dldFRodW1ibmFpbE9wdGlvbnN9IE9wdGlvbnMsIGxpa2UgdGh1bWJuYWlsIHNpemUgb3IgcXVhbGl0eS5cbiAgICogQHJldHVybiB7UHJvbWlzZTxCbG9iPn0gUmVzb2x2ZXMgcmVxdWVzdGVkIHRodW1ibmFpbCBhcyBibG9iLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMSxcbiAgICBlcnJvckluZGV4OiAyLFxuICB9KVxuICBnZXRUaHVtYm5haWwocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogR2V0VGh1bWJuYWlsT3B0aW9ucyk6IFByb21pc2U8QmxvYj4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHBob3RvIGFzIEJsb2IuXG4gICAqIEBwYXJhbSBwaG90byB7c3RyaW5nIHwgTGlicmFyeUl0ZW19IElkIG9yIExpYnJhcnlJdGVtLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0UGhvdG9PcHRpb25zfSBPcHRpb25hbCBvcHRpb25zLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPEJsb2I+fSBSZXNvbHZlcyByZXF1ZXN0ZWQgcGhvdG8gYXMgYmxvYi5cbiAgICovXG4gIEBDb3Jkb3ZhKHtcbiAgICBzdWNjZXNzSW5kZXg6IDEsXG4gICAgZXJyb3JJbmRleDogMixcbiAgfSlcbiAgZ2V0UGhvdG8ocGhvdG86IHN0cmluZyB8IExpYnJhcnlJdGVtLCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxCbG9iPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmVzIGltYWdlIHRvIHNwZWNpZmllZCBhbGJ1bS4gQWxidW0gd2lsbCBiZSBjcmVhdGVkIGlmIG5vdCBleGlzdHMuXG4gICAqIExpYnJhcnlJdGVtIHRoYXQgcmVwcmVzZW50cyBzYXZlZCBpbWFnZSBpcyByZXR1cm5lZC5cbiAgICogQHBhcmFtIHVybCB7c3RyaW5nfSBVUkwgb2YgYSBmaWxlLCBvciBEYXRhVVJMLlxuICAgKiBAcGFyYW0gYWxidW0ge0FsYnVtSXRlbSB8IHN0cmluZ30gTmFtZSBvZiBhbiBhbGJ1bSBvciBBbGJ1bUl0ZW0gb2JqZWN0LlxuICAgKiBAcGFyYW0gb3B0aW9ucyB7R2V0VGh1bWJuYWlsT3B0aW9uc30gT3B0aW9ucywgbGlrZSB0aHVtYm5haWwgc2l6ZSBmb3IgcmVzdWx0aW5nIExpYnJhcnlJdGVtLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPExpYnJhcnlJdGVtPn0gUmVzb2x2ZXMgdG8gTGlicmFyeUl0ZW0gdGhhdCByZXByZXNlbnRzIHNhdmVkIGltYWdlLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMixcbiAgICBlcnJvckluZGV4OiAzLFxuICB9KVxuICBzYXZlSW1hZ2UodXJsOiBzdHJpbmcsIGFsYnVtOiBBbGJ1bUl0ZW0gfCBzdHJpbmcsIG9wdGlvbnM/OiBHZXRUaHVtYm5haWxPcHRpb25zKTogUHJvbWlzZTxMaWJyYXJ5SXRlbT4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlcyB2aWRlbyB0byBzcGVjaWZpZWQgYWxidW0uIEFsYnVtIHdpbGwgYmUgY3JlYXRlZCBpZiBub3QgZXhpc3RzLlxuICAgKiBAcGFyYW0gdXJsIHtzdHJpbmd9IFVSTCBvZiBhIGZpbGUsIG9yIERhdGFVUkwuXG4gICAqIEBwYXJhbSBhbGJ1bSB7QWxidW1JdGVtIHwgc3RyaW5nfSBOYW1lIG9mIGFuIGFsYnVtIG9yIEFsYnVtSXRlbSBvYmplY3QuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IFJlc29sdmVzIHdoZW4gc2F2ZSBvcGVyYXRpb24gY29tcGxldGVzLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIHN1Y2Nlc3NJbmRleDogMixcbiAgICBlcnJvckluZGV4OiAzLFxuICB9KVxuICBzYXZlVmlkZW8odXJsOiBzdHJpbmcsIGFsYnVtOiBBbGJ1bUl0ZW0gfCBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlicmFyeUl0ZW0ge1xuICAvKipcbiAgICogTG9jYWwgaWQgb2YgdGhlIHBob3RvXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXG4gICAqL1xuICBwaG90b1VSTDogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIG9mIGNkdnBob3RvbGlicmFyeSBzY2hlbWEuXG4gICAqL1xuICB0aHVtYm5haWxVUkw6IHN0cmluZztcbiAgZmlsZU5hbWU6IHN0cmluZztcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIGNyZWF0aW9uRGF0ZTogRGF0ZTtcbiAgbGF0aXR1ZGU/OiBudW1iZXI7XG4gIGxvbmdpdHVkZT86IG51bWJlcjtcbiAgYWxidW1JZHM/OiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWxidW1JdGVtIHtcbiAgLyoqXG4gICAqIExvY2FsIGlkIG9mIHRoZSBhbGJ1bVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0TGlicmFyeU9wdGlvbnMge1xuICB0aHVtYm5haWxXaWR0aD86IG51bWJlcjtcbiAgdGh1bWJuYWlsSGVpZ2h0PzogbnVtYmVyO1xuICBxdWFsaXR5PzogbnVtYmVyO1xuICBpdGVtc0luQ2h1bms/OiBudW1iZXI7XG4gIGNodW5rVGltZVNlYz86IG51bWJlcjtcbiAgdXNlT3JpZ2luYWxGaWxlTmFtZXM/OiBib29sZWFuO1xuICBpbmNsdWRlQWxidW1EYXRhPzogYm9vbGVhbjtcbiAgaW5jbHVkZVZpZGVvcz86IGJvb2xlYW47XG4gIG1heEl0ZW1zPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0QXV0aG9yaXphdGlvbk9wdGlvbnMge1xuICByZWFkPzogYm9vbGVhbjtcbiAgd3JpdGU/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRUaHVtYm5haWxPcHRpb25zIHtcbiAgdGh1bWJuYWlsV2lkdGg/OiBudW1iZXI7XG4gIHRodW1ibmFpbEhlaWdodD86IG51bWJlcjtcbiAgcXVhbGl0eT86IG51bWJlcjtcbn1cbiJdfQ==