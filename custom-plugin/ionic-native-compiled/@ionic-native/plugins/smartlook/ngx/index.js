import { __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
var SmartlookSetupConfigBuilder = /** @class */ (function () {
    function SmartlookSetupConfigBuilder(smartlookAPIKey) {
        this._smartlookSetupConfig = new SmartlookSetupConfig(smartlookAPIKey);
    }
    SmartlookSetupConfigBuilder.prototype.fps = function (fps) {
        this._smartlookSetupConfig.fps = fps;
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.renderingMode = function (renderingMode) {
        this._smartlookSetupConfig.renderingMode = renderingMode.getRenderingModeString();
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.startNewSession = function (startNewSession) {
        this._smartlookSetupConfig.startNewSession = startNewSession;
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.startNewSessionAndUser = function (startNewSessionAndUser) {
        this._smartlookSetupConfig.startNewSessionAndUser = startNewSessionAndUser;
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.eventTrackingModes = function (eventTrackingModes) {
        this._smartlookSetupConfig.eventTrackingModes = eventTrackingModes.getEventTrackingModeStringArray();
        return this;
    };
    SmartlookSetupConfigBuilder.prototype.build = function () {
        return this._smartlookSetupConfig;
    };
    return SmartlookSetupConfigBuilder;
}());
export { SmartlookSetupConfigBuilder };
var SmartlookSetupConfig = /** @class */ (function () {
    function SmartlookSetupConfig(smartlookAPIKey) {
        this.smartlookAPIKey = smartlookAPIKey;
    }
    return SmartlookSetupConfig;
}());
export { SmartlookSetupConfig };
var SmartlookResetSession = /** @class */ (function () {
    function SmartlookResetSession(resetUser) {
        this.resetUser = resetUser;
    }
    return SmartlookResetSession;
}());
export { SmartlookResetSession };
var SmartlookUserIdentifier = /** @class */ (function () {
    function SmartlookUserIdentifier(identifier, sessionProperties) {
        this.identifier = identifier;
        this.sessionProperties = sessionProperties;
    }
    return SmartlookUserIdentifier;
}());
export { SmartlookUserIdentifier };
var SmartlookEventTrackingMode = /** @class */ (function () {
    function SmartlookEventTrackingMode(eventTrackingMode) {
        this.eventTrackingMode = eventTrackingMode;
    }
    SmartlookEventTrackingMode.FULL_TRACKING = function () {
        return new SmartlookEventTrackingMode('full_tracking');
    };
    SmartlookEventTrackingMode.IGNORE_USER_INTERACTION = function () {
        return new SmartlookEventTrackingMode('ignore_user_interaction');
    };
    SmartlookEventTrackingMode.IGNORE_NAVIGATION_INTERACTION = function () {
        return new SmartlookEventTrackingMode('ignore_navigation_interaction');
    };
    SmartlookEventTrackingMode.IGNORE_RAGE_CLICKS = function () {
        return new SmartlookEventTrackingMode('ignore_rage_clicks');
    };
    SmartlookEventTrackingMode.NO_TRACKING = function () {
        return new SmartlookEventTrackingMode('no_tracking');
    };
    SmartlookEventTrackingMode.prototype.getEventTrackingModeString = function () {
        return this.eventTrackingMode;
    };
    return SmartlookEventTrackingMode;
}());
export { SmartlookEventTrackingMode };
var SmartlookEventTrackingModes = /** @class */ (function () {
    function SmartlookEventTrackingModes(eventTrackingModes) {
        this.eventTrackingModes = eventTrackingModes.map(function (eventTrackingMode) {
            return eventTrackingMode.getEventTrackingModeString();
        });
    }
    SmartlookEventTrackingModes.prototype.getEventTrackingModeStringArray = function () {
        return this.eventTrackingModes;
    };
    return SmartlookEventTrackingModes;
}());
export { SmartlookEventTrackingModes };
var SmartlookViewState = /** @class */ (function () {
    function SmartlookViewState() {
    }
    SmartlookViewState.START = 'start';
    SmartlookViewState.STOP = 'stop';
    return SmartlookViewState;
}());
export { SmartlookViewState };
var SmartlookNavigationEvent = /** @class */ (function () {
    function SmartlookNavigationEvent(name, viewState) {
        this.name = name;
        this.viewState = this.viewState;
    }
    return SmartlookNavigationEvent;
}());
export { SmartlookNavigationEvent };
var SmartlookCustomEvent = /** @class */ (function () {
    function SmartlookCustomEvent(name, eventProperties) {
        this.name = name;
        this.eventProperties = eventProperties;
    }
    return SmartlookCustomEvent;
}());
export { SmartlookCustomEvent };
var SmartlookTimedCustomEventStart = /** @class */ (function () {
    function SmartlookTimedCustomEventStart(name, eventProperties) {
        this.name = name;
        this.eventProperties = eventProperties;
    }
    return SmartlookTimedCustomEventStart;
}());
export { SmartlookTimedCustomEventStart };
var SmartlookTimedCustomEventStop = /** @class */ (function () {
    function SmartlookTimedCustomEventStop(eventId, eventProperties) {
        this.eventId = eventId;
        this.eventProperties = eventProperties;
    }
    return SmartlookTimedCustomEventStop;
}());
export { SmartlookTimedCustomEventStop };
var SmartlookTimedCustomEventCancel = /** @class */ (function () {
    function SmartlookTimedCustomEventCancel(eventId, reason, eventProperties) {
        this.eventId = eventId;
        this.reason = reason;
        this.eventProperties = eventProperties;
    }
    return SmartlookTimedCustomEventCancel;
}());
export { SmartlookTimedCustomEventCancel };
var SmartlookGlobalEventProperties = /** @class */ (function () {
    function SmartlookGlobalEventProperties(globalEventProperties, immutable) {
        this.globalEventProperties = globalEventProperties;
        this.immutable = immutable;
    }
    return SmartlookGlobalEventProperties;
}());
export { SmartlookGlobalEventProperties };
var SmartlookGlobalEventProperty = /** @class */ (function () {
    function SmartlookGlobalEventProperty(key, value, immutable) {
        this.key = key;
        this.value = value;
        this.immutable = immutable;
    }
    return SmartlookGlobalEventProperty;
}());
export { SmartlookGlobalEventProperty };
var SmartlookGlobalEventPropertyKey = /** @class */ (function () {
    function SmartlookGlobalEventPropertyKey(key) {
        this.key = key;
    }
    return SmartlookGlobalEventPropertyKey;
}());
export { SmartlookGlobalEventPropertyKey };
var SmartlookReferrer = /** @class */ (function () {
    function SmartlookReferrer(referrer, source) {
        this.referrer = referrer;
        this.source = source;
    }
    return SmartlookReferrer;
}());
export { SmartlookReferrer };
var SmartlookDashboardSessionUrl = /** @class */ (function () {
    function SmartlookDashboardSessionUrl(withCurrentTimestamp) {
        this.withCurrentTimestamp = withCurrentTimestamp;
    }
    return SmartlookDashboardSessionUrl;
}());
export { SmartlookDashboardSessionUrl };
var SmartlookRenderingMode = /** @class */ (function () {
    function SmartlookRenderingMode(renderingMode) {
        this.renderingMode = renderingMode;
    }
    SmartlookRenderingMode.NO_RENDERING = function () {
        return new SmartlookRenderingMode('no_rendering');
    };
    SmartlookRenderingMode.NATIVE = function () {
        return new SmartlookRenderingMode('native');
    };
    SmartlookRenderingMode.prototype.getRenderingModeString = function () {
        return this.renderingMode;
    };
    return SmartlookRenderingMode;
}());
export { SmartlookRenderingMode };
var Smartlook = /** @class */ (function (_super) {
    __extends(Smartlook, _super);
    function Smartlook() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Smartlook.prototype.setupAndStartRecording = function (config) { return cordova(this, "setupAndStartRecording", { "sync": true }, arguments); };
    Smartlook.prototype.setup = function (config) { return cordova(this, "setup", { "sync": true }, arguments); };
    Smartlook.prototype.startRecording = function () { return cordova(this, "startRecording", { "sync": true }, arguments); };
    Smartlook.prototype.stopRecording = function () { return cordova(this, "stopRecording", { "sync": true }, arguments); };
    Smartlook.prototype.isRecording = function () { return cordova(this, "isRecording", {}, arguments); };
    Smartlook.prototype.resetSession = function (resetSession) { return cordova(this, "resetSession", { "sync": true }, arguments); };
    Smartlook.prototype.startFullscreenSensitiveMode = function () { return cordova(this, "startFullscreenSensitiveMode", { "sync": true }, arguments); };
    Smartlook.prototype.stopFullscreenSensitiveMode = function () { return cordova(this, "stopFullscreenSensitiveMode", { "sync": true }, arguments); };
    Smartlook.prototype.isFullscreenSensitiveModeActive = function () { return cordova(this, "isFullscreenSensitiveModeActive", {}, arguments); };
    Smartlook.prototype.setUserIdentifier = function (identifier) { return cordova(this, "setUserIdentifier", { "sync": true }, arguments); };
    Smartlook.prototype.setEventTrackingMode = function (eventTrackingMode) { return cordova(this, "setEventTrackingMode", { "sync": true }, arguments); };
    Smartlook.prototype.setEventTrackingModes = function (eventTrackingModes) { return cordova(this, "setEventTrackingModes", { "sync": true }, arguments); };
    Smartlook.prototype.trackNavigationEvent = function (navigationEvent) { return cordova(this, "trackNavigationEvent", { "sync": true }, arguments); };
    Smartlook.prototype.startTimedCustomEvent = function (timedEvent) { return cordova(this, "startTimedCustomEvent", {}, arguments); };
    Smartlook.prototype.stopTimedCustomEvent = function (timedEvent) { return cordova(this, "stopTimedCustomEvent", { "sync": true }, arguments); };
    Smartlook.prototype.cancelTimedCustomEvent = function (timedEvent) { return cordova(this, "cancelTimedCustomEvent", { "sync": true }, arguments); };
    Smartlook.prototype.trackCustomEvent = function (event) { return cordova(this, "trackCustomEvent", { "sync": true }, arguments); };
    Smartlook.prototype.setGlobalEventProperties = function (properties) { return cordova(this, "setGlobalEventProperties", { "sync": true }, arguments); };
    Smartlook.prototype.setGlobalEventProperty = function (property) { return cordova(this, "setGlobalEventProperty", { "sync": true }, arguments); };
    Smartlook.prototype.removeGlobalEventProperty = function (property) { return cordova(this, "removeGlobalEventProperty", { "sync": true }, arguments); };
    Smartlook.prototype.removeAllGlobalEventProperties = function () { return cordova(this, "removeAllGlobalEventProperties", { "sync": true }, arguments); };
    Smartlook.prototype.setReferrer = function (referrer) { return cordova(this, "setReferrer", { "sync": true }, arguments); };
    Smartlook.prototype.getDashboardSessionUrl = function (smartlookDashboardSessionUrl) { return cordova(this, "getDashboardSessionUrl", {}, arguments); };
    Smartlook.prototype.getDashboardVisitorUrl = function () { return cordova(this, "getDashboardVisitorUrl", {}, arguments); };
    Smartlook.prototype.registerIntegrationListener = function (integrationListener) { return cordova(this, "registerIntegrationListener", { "sync": true }, arguments); };
    Smartlook.prototype.setRenderingMode = function (renderingMode) { return cordova(this, "setRenderingMode", { "sync": true }, arguments); };
    Smartlook.prototype.unregisterIntegrationListener = function () { return cordova(this, "unregisterIntegrationListener", { "sync": true }, arguments); };
    Smartlook.pluginName = "Smartlook";
    Smartlook.plugin = "https://github.com/smartlook/cordova-smartlook.git";
    Smartlook.pluginRef = "cordova.plugins.SmartlookPlugin";
    Smartlook.repo = "https://github.com/smartlook/cordova-smartlook.git";
    Smartlook.platforms = ["Android", "iOS"];
    Smartlook.decorators = [
        { type: Injectable }
    ];
    return Smartlook;
}(IonicNativePlugin));
export { Smartlook };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL3NtYXJ0bG9vay9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQzs7SUFLdEUscUNBQVksZUFBdUI7UUFDakMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksb0JBQW9CLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVELHlDQUFHLEdBQUgsVUFBSSxHQUFXO1FBQ2IsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDckMsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsbURBQWEsR0FBYixVQUFjLGFBQXFDO1FBQ2pELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDbEYsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQscURBQWUsR0FBZixVQUFnQixlQUF3QjtRQUN0QyxJQUFJLENBQUMscUJBQXFCLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztRQUM3RCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCw0REFBc0IsR0FBdEIsVUFBdUIsc0JBQStCO1FBQ3BELElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxzQkFBc0IsR0FBRyxzQkFBc0IsQ0FBQztRQUMzRSxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCx3REFBa0IsR0FBbEIsVUFBbUIsa0JBQStDO1FBQ2hFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQywrQkFBK0IsRUFBRSxDQUFDO1FBQ3JHLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELDJDQUFLLEdBQUw7UUFDRSxPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUNwQyxDQUFDO3NDQXJDSDs7OztJQWdERSw4QkFBWSxlQUF1QjtRQUNqQyxJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN6QyxDQUFDOytCQWxESDs7OztJQXdERSwrQkFBWSxTQUFpQjtRQUMzQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM3QixDQUFDO2dDQTFESDs7OztJQWlFRSxpQ0FBWSxVQUFrQixFQUFFLGlCQUFzQjtRQUNwRCxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUM7SUFDN0MsQ0FBQztrQ0FwRUg7Ozs7SUFrR0Usb0NBQVksaUJBQXlCO1FBQ25DLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztJQUM3QyxDQUFDO0lBMUJNLHdDQUFhLEdBQXBCO1FBQ0UsT0FBTyxJQUFJLDBCQUEwQixDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFTSxrREFBdUIsR0FBOUI7UUFDRSxPQUFPLElBQUksMEJBQTBCLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRU0sd0RBQTZCLEdBQXBDO1FBQ0UsT0FBTyxJQUFJLDBCQUEwQixDQUFDLCtCQUErQixDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVNLDZDQUFrQixHQUF6QjtRQUNFLE9BQU8sSUFBSSwwQkFBMEIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQzlELENBQUM7SUFFTSxzQ0FBVyxHQUFsQjtRQUNFLE9BQU8sSUFBSSwwQkFBMEIsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsK0RBQTBCLEdBQTFCO1FBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDaEMsQ0FBQztxQ0FoR0g7Ozs7SUEwR0UscUNBQVksa0JBQWdEO1FBQzFELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsVUFBQSxpQkFBaUI7WUFDaEUsT0FBQSxpQkFBaUIsQ0FBQywwQkFBMEIsRUFBRTtRQUE5QyxDQUE4QyxDQUMvQyxDQUFDO0lBQ0osQ0FBQztJQUVELHFFQUErQixHQUEvQjtRQUNFLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ2pDLENBQUM7c0NBbEhIOzs7Ozs7SUFzSFMsd0JBQUssR0FBRyxPQUFPLENBQUM7SUFDaEIsdUJBQUksR0FBRyxNQUFNLENBQUM7NkJBdkh2Qjs7U0FxSGEsa0JBQWtCOztJQVM3QixrQ0FBWSxJQUFZLEVBQUUsU0FBa0I7UUFDMUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ2xDLENBQUM7bUNBaklIOzs7O0lBd0lFLDhCQUFZLElBQVksRUFBRSxlQUFvQjtRQUM1QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN6QyxDQUFDOytCQTNJSDs7OztJQWtKRSx3Q0FBWSxJQUFZLEVBQUUsZUFBb0I7UUFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7SUFDekMsQ0FBQzt5Q0FySkg7Ozs7SUE0SkUsdUNBQVksT0FBZSxFQUFFLGVBQW9CO1FBQy9DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO0lBQ3pDLENBQUM7d0NBL0pIOzs7O0lBdUtFLHlDQUFZLE9BQWUsRUFBRSxNQUFjLEVBQUUsZUFBb0I7UUFDL0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7SUFDekMsQ0FBQzswQ0EzS0g7Ozs7SUFrTEUsd0NBQVkscUJBQXlCLEVBQUUsU0FBa0I7UUFDdkQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLHFCQUFxQixDQUFDO1FBQ25ELElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7eUNBckxIOzs7O0lBNkxFLHNDQUFZLEdBQVcsRUFBRSxLQUFhLEVBQUUsU0FBa0I7UUFDeEQsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM3QixDQUFDO3VDQWpNSDs7OztJQXVNRSx5Q0FBWSxHQUFXO1FBQ3JCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ2pCLENBQUM7MENBek1IOzs7O0lBZ05FLDJCQUFZLFFBQWdCLEVBQUUsTUFBYztRQUMxQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDOzRCQW5OSDs7OztJQXlORSxzQ0FBWSxvQkFBNkI7UUFDdkMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQixDQUFDO0lBQ25ELENBQUM7dUNBM05IOzs7O0lBa1BFLGdDQUFZLGFBQXFCO1FBQy9CLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO0lBQ3JDLENBQUM7SUFkTSxtQ0FBWSxHQUFuQjtRQUNFLE9BQU8sSUFBSSxzQkFBc0IsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRU0sNkJBQU0sR0FBYjtRQUNFLE9BQU8sSUFBSSxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRUQsdURBQXNCLEdBQXRCO1FBQ0UsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzVCLENBQUM7aUNBaFBIOzs7O0lBeVMrQiw2QkFBaUI7Ozs7SUFXOUMsMENBQXNCLGFBQUMsTUFBNEI7SUFjbkQseUJBQUssYUFBQyxNQUE0QjtJQVFsQyxrQ0FBYztJQVFkLGlDQUFhO0lBU2IsK0JBQVc7SUFVWCxnQ0FBWSxhQUFDLFlBQW1DO0lBUWhELGdEQUE0QjtJQVE1QiwrQ0FBMkI7SUFTM0IsbURBQStCO0lBWS9CLHFDQUFpQixhQUFDLFVBQW1DO0lBZXJELHdDQUFvQixhQUFDLGlCQUE2QztJQVNsRSx5Q0FBcUIsYUFBQyxrQkFBK0M7SUFXckUsd0NBQW9CLGFBQUMsZUFBeUM7SUFhOUQseUNBQXFCLGFBQUMsVUFBMEM7SUFZaEUsd0NBQW9CLGFBQUMsVUFBeUM7SUFhOUQsMENBQXNCLGFBQUMsVUFBMkM7SUFXbEUsb0NBQWdCLGFBQUMsS0FBMkI7SUFZNUMsNENBQXdCLGFBQUMsVUFBMEM7SUFhbkUsMENBQXNCLGFBQUMsUUFBc0M7SUFVN0QsNkNBQXlCLGFBQUMsUUFBeUM7SUFRbkUsa0RBQThCO0lBWTlCLCtCQUFXLGFBQUMsUUFBMkI7SUFXdkMsMENBQXNCLGFBQUMsNEJBQTBEO0lBU2pGLDBDQUFzQjtJQWN0QiwrQ0FBMkIsYUFBQyxtQkFBaUQ7SUFVN0Usb0NBQWdCLGFBQUMsYUFBcUM7SUFRdEQsaURBQTZCOzs7Ozs7O2dCQWpTOUIsVUFBVTs7b0JBeFNYO0VBeVMrQixpQkFBaUI7U0FBbkMsU0FBUyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFBsdWdpbiwgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xuXG5leHBvcnQgY2xhc3MgU21hcnRsb29rU2V0dXBDb25maWdCdWlsZGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBfc21hcnRsb29rU2V0dXBDb25maWc6IFNtYXJ0bG9va1NldHVwQ29uZmlnO1xuXG4gIGNvbnN0cnVjdG9yKHNtYXJ0bG9va0FQSUtleTogc3RyaW5nKSB7XG4gICAgdGhpcy5fc21hcnRsb29rU2V0dXBDb25maWcgPSBuZXcgU21hcnRsb29rU2V0dXBDb25maWcoc21hcnRsb29rQVBJS2V5KTtcbiAgfVxuXG4gIGZwcyhmcHM6IG51bWJlcik6IFNtYXJ0bG9va1NldHVwQ29uZmlnQnVpbGRlciB7XG4gICAgdGhpcy5fc21hcnRsb29rU2V0dXBDb25maWcuZnBzID0gZnBzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVuZGVyaW5nTW9kZShyZW5kZXJpbmdNb2RlOiBTbWFydGxvb2tSZW5kZXJpbmdNb2RlKTogU21hcnRsb29rU2V0dXBDb25maWdCdWlsZGVyIHtcbiAgICB0aGlzLl9zbWFydGxvb2tTZXR1cENvbmZpZy5yZW5kZXJpbmdNb2RlID0gcmVuZGVyaW5nTW9kZS5nZXRSZW5kZXJpbmdNb2RlU3RyaW5nKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzdGFydE5ld1Nlc3Npb24oc3RhcnROZXdTZXNzaW9uOiBib29sZWFuKTogU21hcnRsb29rU2V0dXBDb25maWdCdWlsZGVyIHtcbiAgICB0aGlzLl9zbWFydGxvb2tTZXR1cENvbmZpZy5zdGFydE5ld1Nlc3Npb24gPSBzdGFydE5ld1Nlc3Npb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBzdGFydE5ld1Nlc3Npb25BbmRVc2VyKHN0YXJ0TmV3U2Vzc2lvbkFuZFVzZXI6IGJvb2xlYW4pOiBTbWFydGxvb2tTZXR1cENvbmZpZ0J1aWxkZXIge1xuICAgIHRoaXMuX3NtYXJ0bG9va1NldHVwQ29uZmlnLnN0YXJ0TmV3U2Vzc2lvbkFuZFVzZXIgPSBzdGFydE5ld1Nlc3Npb25BbmRVc2VyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZXZlbnRUcmFja2luZ01vZGVzKGV2ZW50VHJhY2tpbmdNb2RlczogU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGVzKTogU21hcnRsb29rU2V0dXBDb25maWdCdWlsZGVyIHtcbiAgICB0aGlzLl9zbWFydGxvb2tTZXR1cENvbmZpZy5ldmVudFRyYWNraW5nTW9kZXMgPSBldmVudFRyYWNraW5nTW9kZXMuZ2V0RXZlbnRUcmFja2luZ01vZGVTdHJpbmdBcnJheSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYnVpbGQoKTogU21hcnRsb29rU2V0dXBDb25maWcge1xuICAgIHJldHVybiB0aGlzLl9zbWFydGxvb2tTZXR1cENvbmZpZztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU21hcnRsb29rU2V0dXBDb25maWcge1xuICBwcml2YXRlIHNtYXJ0bG9va0FQSUtleTogc3RyaW5nO1xuICBmcHM6IG51bWJlcjtcbiAgcmVuZGVyaW5nTW9kZTogc3RyaW5nO1xuICBzdGFydE5ld1Nlc3Npb246IGJvb2xlYW47XG4gIHN0YXJ0TmV3U2Vzc2lvbkFuZFVzZXI6IGJvb2xlYW47XG4gIGV2ZW50VHJhY2tpbmdNb2Rlczogc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3Ioc21hcnRsb29rQVBJS2V5OiBzdHJpbmcpIHtcbiAgICB0aGlzLnNtYXJ0bG9va0FQSUtleSA9IHNtYXJ0bG9va0FQSUtleTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU21hcnRsb29rUmVzZXRTZXNzaW9uIHtcbiAgcHJpdmF0ZSByZXNldFVzZXI6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihyZXNldFVzZXI6IHN0cmluZykge1xuICAgIHRoaXMucmVzZXRVc2VyID0gcmVzZXRVc2VyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tVc2VySWRlbnRpZmllciB7XG4gIHByaXZhdGUgaWRlbnRpZmllcjogc3RyaW5nO1xuICBwcml2YXRlIHNlc3Npb25Qcm9wZXJ0aWVzOiB7fTtcblxuICBjb25zdHJ1Y3RvcihpZGVudGlmaWVyOiBzdHJpbmcsIHNlc3Npb25Qcm9wZXJ0aWVzPzoge30pIHtcbiAgICB0aGlzLmlkZW50aWZpZXIgPSBpZGVudGlmaWVyO1xuICAgIHRoaXMuc2Vzc2lvblByb3BlcnRpZXMgPSBzZXNzaW9uUHJvcGVydGllcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUge1xuICBwcml2YXRlIGV2ZW50VHJhY2tpbmdNb2RlOiBzdHJpbmc7XG5cbiAgc3RhdGljIEZVTExfVFJBQ0tJTkcoKTogU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUge1xuICAgIHJldHVybiBuZXcgU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUoJ2Z1bGxfdHJhY2tpbmcnKTtcbiAgfVxuXG4gIHN0YXRpYyBJR05PUkVfVVNFUl9JTlRFUkFDVElPTigpOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XG4gICAgcmV0dXJuIG5ldyBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSgnaWdub3JlX3VzZXJfaW50ZXJhY3Rpb24nKTtcbiAgfVxuXG4gIHN0YXRpYyBJR05PUkVfTkFWSUdBVElPTl9JTlRFUkFDVElPTigpOiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSB7XG4gICAgcmV0dXJuIG5ldyBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZSgnaWdub3JlX25hdmlnYXRpb25faW50ZXJhY3Rpb24nKTtcbiAgfVxuXG4gIHN0YXRpYyBJR05PUkVfUkFHRV9DTElDS1MoKTogU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUge1xuICAgIHJldHVybiBuZXcgU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUoJ2lnbm9yZV9yYWdlX2NsaWNrcycpO1xuICB9XG5cbiAgc3RhdGljIE5PX1RSQUNLSU5HKCk6IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlIHtcbiAgICByZXR1cm4gbmV3IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlKCdub190cmFja2luZycpO1xuICB9XG5cbiAgZ2V0RXZlbnRUcmFja2luZ01vZGVTdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudFRyYWNraW5nTW9kZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGV2ZW50VHJhY2tpbmdNb2RlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmV2ZW50VHJhY2tpbmdNb2RlID0gZXZlbnRUcmFja2luZ01vZGU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlcyB7XG4gIHByaXZhdGUgZXZlbnRUcmFja2luZ01vZGVzOiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcihldmVudFRyYWNraW5nTW9kZXM6IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlW10pIHtcbiAgICB0aGlzLmV2ZW50VHJhY2tpbmdNb2RlcyA9IGV2ZW50VHJhY2tpbmdNb2Rlcy5tYXAoZXZlbnRUcmFja2luZ01vZGUgPT5cbiAgICAgIGV2ZW50VHJhY2tpbmdNb2RlLmdldEV2ZW50VHJhY2tpbmdNb2RlU3RyaW5nKClcbiAgICApO1xuICB9XG5cbiAgZ2V0RXZlbnRUcmFja2luZ01vZGVTdHJpbmdBcnJheSgpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRUcmFja2luZ01vZGVzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tWaWV3U3RhdGUge1xuICBzdGF0aWMgU1RBUlQgPSAnc3RhcnQnO1xuICBzdGF0aWMgU1RPUCA9ICdzdG9wJztcbn1cblxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va05hdmlnYXRpb25FdmVudCB7XG4gIHByaXZhdGUgbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIHZpZXdTdGF0ZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmlld1N0YXRlPzogc3RyaW5nKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnZpZXdTdGF0ZSA9IHRoaXMudmlld1N0YXRlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tDdXN0b21FdmVudCB7XG4gIHByaXZhdGUgbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIGV2ZW50UHJvcGVydGllczoge307XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBldmVudFByb3BlcnRpZXM/OiB7fSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5ldmVudFByb3BlcnRpZXMgPSBldmVudFByb3BlcnRpZXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRTdGFydCB7XG4gIHByaXZhdGUgbmFtZTogc3RyaW5nO1xuICBwcml2YXRlIGV2ZW50UHJvcGVydGllczoge307XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBldmVudFByb3BlcnRpZXM/OiB7fSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5ldmVudFByb3BlcnRpZXMgPSBldmVudFByb3BlcnRpZXM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRTdG9wIHtcbiAgcHJpdmF0ZSBldmVudElkOiBzdHJpbmc7XG4gIHByaXZhdGUgZXZlbnRQcm9wZXJ0aWVzOiB7fTtcblxuICBjb25zdHJ1Y3RvcihldmVudElkOiBzdHJpbmcsIGV2ZW50UHJvcGVydGllcz86IHt9KSB7XG4gICAgdGhpcy5ldmVudElkID0gZXZlbnRJZDtcbiAgICB0aGlzLmV2ZW50UHJvcGVydGllcyA9IGV2ZW50UHJvcGVydGllcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU21hcnRsb29rVGltZWRDdXN0b21FdmVudENhbmNlbCB7XG4gIHByaXZhdGUgZXZlbnRJZDogc3RyaW5nO1xuICBwcml2YXRlIHJlYXNvbjogc3RyaW5nO1xuICBwcml2YXRlIGV2ZW50UHJvcGVydGllczoge307XG5cbiAgY29uc3RydWN0b3IoZXZlbnRJZDogc3RyaW5nLCByZWFzb246IHN0cmluZywgZXZlbnRQcm9wZXJ0aWVzPzoge30pIHtcbiAgICB0aGlzLmV2ZW50SWQgPSBldmVudElkO1xuICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIHRoaXMuZXZlbnRQcm9wZXJ0aWVzID0gZXZlbnRQcm9wZXJ0aWVzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnRpZXMge1xuICBwcml2YXRlIGdsb2JhbEV2ZW50UHJvcGVydGllczoge307XG4gIHByaXZhdGUgaW1tdXRhYmxlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKGdsb2JhbEV2ZW50UHJvcGVydGllczoge30sIGltbXV0YWJsZTogYm9vbGVhbikge1xuICAgIHRoaXMuZ2xvYmFsRXZlbnRQcm9wZXJ0aWVzID0gZ2xvYmFsRXZlbnRQcm9wZXJ0aWVzO1xuICAgIHRoaXMuaW1tdXRhYmxlID0gaW1tdXRhYmxlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5IHtcbiAgcHJpdmF0ZSBrZXk6IHN0cmluZztcbiAgcHJpdmF0ZSB2YWx1ZTogc3RyaW5nO1xuICBwcml2YXRlIGltbXV0YWJsZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgaW1tdXRhYmxlOiBib29sZWFuKSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuaW1tdXRhYmxlID0gaW1tdXRhYmxlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5S2V5IHtcbiAgcHJpdmF0ZSBrZXk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZykge1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTbWFydGxvb2tSZWZlcnJlciB7XG4gIHByaXZhdGUgcmVmZXJyZXI6IHN0cmluZztcbiAgcHJpdmF0ZSBzb3VyY2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihyZWZlcnJlcjogc3RyaW5nLCBzb3VyY2U6IHN0cmluZykge1xuICAgIHRoaXMucmVmZXJyZXIgPSByZWZlcnJlcjtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU21hcnRsb29rRGFzaGJvYXJkU2Vzc2lvblVybCB7XG4gIHByaXZhdGUgd2l0aEN1cnJlbnRUaW1lc3RhbXA6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iod2l0aEN1cnJlbnRUaW1lc3RhbXA6IGJvb2xlYW4pIHtcbiAgICB0aGlzLndpdGhDdXJyZW50VGltZXN0YW1wID0gd2l0aEN1cnJlbnRUaW1lc3RhbXA7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTbWFydGxvb2tJbnRlZ3JhdGlvbkxpc3RlbmVyIHtcbiAgb25TZXNzaW9uUmVhZHk6IChkYXNoYm9hcmRTZXNzaW9uVXJsOiBzdHJpbmcpID0+IGFueTtcbiAgb25WaXNpdG9yUmVhZHk6IChkYXNoYm9hcmRWaXNpdG9yVXJsOiBzdHJpbmcpID0+IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIFNtYXJ0bG9va1JlbmRlcmluZ01vZGUge1xuICBwcml2YXRlIHJlbmRlcmluZ01vZGU6IHN0cmluZztcblxuICBzdGF0aWMgTk9fUkVOREVSSU5HKCk6IFNtYXJ0bG9va1JlbmRlcmluZ01vZGUge1xuICAgIHJldHVybiBuZXcgU21hcnRsb29rUmVuZGVyaW5nTW9kZSgnbm9fcmVuZGVyaW5nJyk7XG4gIH1cblxuICBzdGF0aWMgTkFUSVZFKCk6IFNtYXJ0bG9va1JlbmRlcmluZ01vZGUge1xuICAgIHJldHVybiBuZXcgU21hcnRsb29rUmVuZGVyaW5nTW9kZSgnbmF0aXZlJyk7XG4gIH1cblxuICBnZXRSZW5kZXJpbmdNb2RlU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyaW5nTW9kZTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmluZ01vZGU6IHN0cmluZykge1xuICAgIHRoaXMucmVuZGVyaW5nTW9kZSA9IHJlbmRlcmluZ01vZGU7XG4gIH1cbn1cblxuLyoqXG4gKiBAbmFtZSBTbWFydGxvb2tcbiAqIEBkZXNjcmlwdGlvblxuICogT2ZmaWNpYWwgU21hcnRsb29rIFNESyBwbHVnaW4uXG4gKiBGdWxsIGRvY3VtZW50YXRpb24gY2FuIGJlIGZvdW5kIGhlcmU6IGh0dHBzOi8vc21hcnRsb29rLmdpdGh1Yi5pby9kb2NzL3Nkay9pb25pYy9cbiAqXG4gKiBAdXNhZ2VcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IFNtYXJ0bG9vaywgU21hcnRsb29rU2V0dXBDb25maWcgfSBmcm9tICdAaW9uaWMtbmF0aXZlL3NtYXJ0bG9vay9uZ3gnO1xuICpcbiAqIC4uLlxuICpcbiAqIEBDb21wb25lbnQoIC4uLiApXG4gKiBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAqICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNtYXJ0bG9vazogU21hcnRsb29rKSB7XG4gKiAgICAgICAgdGhpcy5wbGF0Zm9ybS5yZWFkeSgpLnRoZW4oKCkgPT4ge1xuICogICAgICAgICAgICB0aGlzLnNtYXJ0bG9vay5zZXR1cEFuZFN0YXJ0UmVjb3JkaW5nKG5ldyBTbWFydGxvb2tTZXR1cENvbmZpZyhcIllPVVIgQVBJIEtFWVwiKSk7XG4gKiAgICAgICAgfVxuICogICAgIH1cbiAqIH1cbiAqIGBgYFxuICogQGNsYXNzZXNcbiAqIFNtYXJ0bG9va1NldHVwQ29uZmlnQnVpbGRlclxuICogU21hcnRsb29rU2V0dXBDb25maWdcbiAqIFNtYXJ0bG9va1Jlc2V0U2Vzc2lvblxuICogU21hcnRsb29rVXNlcklkZW50aWZpZXJcbiAqIFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlXG4gKiBTbWFydGxvb2tOYXZpZ2F0aW9uRXZlbnRcbiAqIFNtYXJ0bG9va1ZpZXdTdGF0ZVxuICogU21hcnRsb29rQ3VzdG9tRXZlbnRcbiAqIFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRTdGFydFxuICogU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0b3BcbiAqIFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRDYW5jZWxcbiAqIFNtYXJ0bG9va0dsb2JhbEV2ZW50UHJvcGVydGllc1xuICogU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0eVxuICogU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0eUtleVxuICogU21hcnRsb29rUmVmZXJyZXJcbiAqIFNtYXJ0bG9va0Rhc2hib2FyZFNlc3Npb25VcmxcbiAqIFNtYXJ0bG9va1JlbmRlcmluZ01vZGVcbiAqIFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2RlXG4gKiBTbWFydGxvb2tFdmVudFRyYWNraW5nTW9kZXNcbiAqL1xuQFBsdWdpbih7XG4gIHBsdWdpbk5hbWU6ICdTbWFydGxvb2snLFxuICBwbHVnaW46ICdodHRwczovL2dpdGh1Yi5jb20vc21hcnRsb29rL2NvcmRvdmEtc21hcnRsb29rLmdpdCcsXG4gIHBsdWdpblJlZjogJ2NvcmRvdmEucGx1Z2lucy5TbWFydGxvb2tQbHVnaW4nLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3NtYXJ0bG9vay9jb3Jkb3ZhLXNtYXJ0bG9vay5naXQnLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU21hcnRsb29rIGV4dGVuZHMgSW9uaWNOYXRpdmVQbHVnaW4ge1xuICAvKipcbiAgICogU2V0dXAgYW5kIHN0YXJ0IFNtYXJ0bG9vayBTREsgcmVjb3JkaW5nLlxuICAgKiBAcGFyYW0gY29uZmlnIFNtYXJ0bG9va1NldHVwQ29uZmlnIG9iamVjdC5cbiAgICogQHBhcmFtIGNvbmZpZy5zbWFydGxvb2tBUElLZXkgKHJlcXVpcmVkKSBTbWFydGxvb2sgQVBJIGtleSAoeW91IGNhbiBvYnRhaW4gaXQgaW4geW91ciBkYXNoYm9hcmQpLlxuICAgKiBAcGFyYW0gY29uZmlnLmZwcyAob3B0aW9uYWwpIHJlY29yZGVkIHZpZGVvIGZyYW1lcmF0ZSAoYWxsb3dlZCB2YWx1ZXMgMi0xMCBmcHMpLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5yZW5kZXJpbmdNb2RlIChvcHRpb25hbCkgTW9kZSBkZWZpbmluZyB0aGUgdmlkZW8gb3V0cHV0IG9mIHJlY29yZGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMuc3RhcnROZXdTZXNzaW9uIChvcHRpb25hbCkgSWYgdHJ1ZSBuZXcgc2Vzc2lvbiBpcyBnb2luZyB0byBiZSBjcmVhdGVkXG4gICAqIEBwYXJhbSBvcHRpb25zLnN0YXJ0TmV3U2Vzc2lvbkFuZFVzZXIgKG9wdGlvbmFsKSBJZiB0cnVlIG5ldyBzZXNzaW9uIGFuZCB2aXNpdG9yIGlzIGdvaW5nIHRvIGJlIGNyZWF0ZWRcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXR1cEFuZFN0YXJ0UmVjb3JkaW5nKGNvbmZpZzogU21hcnRsb29rU2V0dXBDb25maWcpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAvaW5pdGlhbGl6ZSBTbWFydGxvb2sgU0RLLiBUaGlzIG1ldGhvZCBET0VTTidUIHN0YXJ0IHRoZSByZWNvcmRpbmcgKEBzZWUgc3RhcnQoKSlcbiAgICogQHBhcmFtIGNvbmZpZyBTbWFydGxvb2tTZXR1cENvbmZpZyBvYmplY3QuXG4gICAqIEBwYXJhbSBjb25maWcuc21hcnRsb29rQVBJS2V5IChyZXF1aXJlZCkgU21hcnRsb29rIEFQSSBrZXkgKHlvdSBjYW4gb2J0YWluIGl0IGluIHlvdXIgZGFzaGJvYXJkKS5cbiAgICogQHBhcmFtIGNvbmZpZy5mcHMgKG9wdGlvbmFsKSByZWNvcmRlZCB2aWRlbyBmcmFtZXJhdGUgKGFsbG93ZWQgdmFsdWVzIDItMTAgZnBzKS5cbiAgICogQHBhcmFtIG9wdGlvbnMucmVuZGVyaW5nTW9kZSAob3B0aW9uYWwpIE1vZGUgZGVmaW5pbmcgdGhlIHZpZGVvIG91dHB1dCBvZiByZWNvcmRpbmcuXG4gICAqIEBwYXJhbSBvcHRpb25zLnN0YXJ0TmV3U2Vzc2lvbiAob3B0aW9uYWwpIElmIHRydWUgbmV3IHNlc3Npb24gaXMgZ29pbmcgdG8gYmUgY3JlYXRlZFxuICAgKiBAcGFyYW0gb3B0aW9ucy5zdGFydE5ld1Nlc3Npb25BbmRVc2VyIChvcHRpb25hbCkgSWYgdHJ1ZSBuZXcgc2Vzc2lvbiBhbmQgdmlzaXRvciBpcyBnb2luZyB0byBiZSBjcmVhdGVkXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc2V0dXAoY29uZmlnOiBTbWFydGxvb2tTZXR1cENvbmZpZyk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBTREsgcmVjb3JkaW5nLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHN0YXJ0UmVjb3JkaW5nKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIFNESyByZWNvcmRpbmcuIFJlY29yZGluZyB3aWxsIHN0YXJ0IGFnYWluIHdoZW4geW91IGNhbGwgc3RhcnQoKS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzdG9wUmVjb3JkaW5nKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBTREsgaXMgY3VycmVudGx5IHJlY29yZGluZy5cbiAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBpc1JlY29yZGluZyBib29sZWFuLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBpc1JlY29yZGluZygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIGN1cnJlbnQgc2Vzc2lvbiBhbmQgbmV3IHNlc3Npb24gaW4gZGFzaGJvYXJkIGlzIGNyZWF0ZWQuXG4gICAqIEBwYXJhbSByZXNldFNlc3Npb24gU21hcnRsb29rUmVzZXRTZXNzaW9uIG9iamVjdC5cbiAgICogQHBhcmFtIHJlc2V0U2Vzc2lvbi5yZXNldFVzZXIgSWYgc2V0IHRvIFRSVUUgbmV3IHZpc2l0b3IgaXMgY3JlYXRlZCBpbiB0aGUgZGFzaGJvYXJkLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHJlc2V0U2Vzc2lvbihyZXNldFNlc3Npb246IFNtYXJ0bG9va1Jlc2V0U2Vzc2lvbik6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHlvdSBzdGFydCBzZW5zaXRpdmUgbW9kZSBTREsgcmVjb3JkcyBibGFuayB2aWRlb3MgKHNpbmdsZSBjb2xvcikgYnV0IFNESyBzdGlsbCBzZW5kcyBhbmFseXRpYyBldmVudHMuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc3RhcnRGdWxsc2NyZWVuU2Vuc2l0aXZlTW9kZSgpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBzZW5zaXRpdmUgbW9kZSAtPiBTREsgcmVjb3JkcyB2aWRlby5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzdG9wRnVsbHNjcmVlblNlbnNpdGl2ZU1vZGUoKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGZ1bGxzY3JlZW4gc2Vuc2l0aXZlIG1vZGUgaXMgYWN0aXZlLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGlzRnVsbHNjcmVlblNlbnNpdGl2ZU1vZGVBY3RpdmUgYm9vbGVhbi5cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaXNGdWxsc2NyZWVuU2Vuc2l0aXZlTW9kZUFjdGl2ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogSWRlbnRpZnkgdXNlci5cbiAgICogQHBhcmFtIGlkZW50aWZpZXIgU21hcnRsb29rVXNlcklkZW50aWZpZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0gaWRlbnRpZmllci5pZGVuZmllciAocmVxdWlyZWQpIGlkIHRoYXQgY2FuIGJlIHVzZWQgdG8gaWRlbnRpZnkgdXNlciBhbmQgaGlzIHJlY29yZHMuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdSB3aWxsIHNlZSB0aGlzIElkIGluIFNtYXJ0bG9vayBkYXNoYm9hcmQgc28geW91IGNhbiBwYWlyIHJlY29yZHMgd2l0aCBjb25jcmV0ZSB1c2VyLlxuICAgKiBAcGFyYW0gaWRlbnRpZmllci5zZXNzaW9uUHJvcGVydGllcyAob3B0aW9uYWwpIGN1c3RvbSBzZXNzaW9uIHByb3BlcnRpZXMgb2JqZWN0LlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHNldFVzZXJJZGVudGlmaWVyKGlkZW50aWZpZXI6IFNtYXJ0bG9va1VzZXJJZGVudGlmaWVyKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFlvdSBjYW4gY29uZmlndXJlIHdoaWNoIGV2ZW50cyBhcmUgYmVpbmcgdHJhY2tlZCBieSBzZXR0aW5nIGV2ZW50VHJhY2tpbmdNb2RlLlxuICAgKiBAcGFyYW0gZXZlbnRUcmFja2luZ01vZGUgQ2FuIGJlIG9uIG9mOlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgLSBFdmVudFRyYWNraW5nTW9kZS5GVUxMX1RSQUNLSU5HIC4uLiB0cmFjayBldmVyeXRoaW5nXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAtIEV2ZW50VHJhY2tpbmdNb2RlLklHTk9SRV9VU0VSX0lOVEVSQUNUSU9OIC4uLiB3aWxsIG5vdCB0cmFjayB0b3VjaGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzLCBrZXlib2FyZCwgc2VsZWN0b3IgZXZlbnRzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAtIEV2ZW50VHJhY2tpbmdNb2RlLklHTk9SRV9OQVZJR0FUSU9OX0lOVEVSQUNUSU9OIC4uLiB3aWxsIG5vdCB0cmFjayBzY3JlZW4gbmFtZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIC0gRXZlbnRUcmFja2luZ01vZGUuSUdOT1JFX1JBR0VfQ0xJQ0tTIC4uLiB3aWxsIG5vdCB0cmFjayByYWdlIGNsaWNrc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgLSBFdmVudFRyYWNraW5nTW9kZS5OT19UUkFDS0lORyAuLi4gbm90IGdvbm5hIHRyYWNrIGFueSBldmVudHNcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXRFdmVudFRyYWNraW5nTW9kZShldmVudFRyYWNraW5nTW9kZTogU21hcnRsb29rRXZlbnRUcmFja2luZ01vZGUpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogWW91IGNhbiBjb25maWd1cmUgd2hpY2ggZXZlbnRzIGFyZSBiZWluZyB0cmFja2VkIGJ5IHNldHRpbmcgZXZlbnRUcmFja2luZ01vZGUuXG4gICAqIEBwYXJhbSBldmVudFRyYWNraW5nTW9kZXMgQXJyYXkgb2YgRXZlbnRUcmFja2luZ01vZGVzLlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHNldEV2ZW50VHJhY2tpbmdNb2RlcyhldmVudFRyYWNraW5nTW9kZXM6IFNtYXJ0bG9va0V2ZW50VHJhY2tpbmdNb2Rlcyk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFjayBjdXN0b20gbmF2aWdhdGlvbiBldmVudC5cbiAgICogQHBhcmFtIG5hdmlnYXRpb25FdmVudCBTbWFydGxvb2tOYXZpZ2F0aW9uRXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0gbmF2aWdhdGlvbkV2ZW50Lm5hbWUgQ29udHJvbGVyL0FjdGl2aXR5L1BhZ2UgbmFtZS5cbiAgICogQHBhcmFtIG5hdmlnYXRpb25FdmVudC52aWV3U3RhdGUgT25lIG9mIFNtYXJ0bG9va1ZpZXdTdGF0ZS5TVEFSVCBvciBTbWFydGxvb2tWaWV3U3RhdGUuU1RPUC5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICB0cmFja05hdmlnYXRpb25FdmVudChuYXZpZ2F0aW9uRXZlbnQ6IFNtYXJ0bG9va05hdmlnYXRpb25FdmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFjayBjdXN0b20gZXZlbnQuXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50IFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRTdGFydCBvYmplY3QuXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50Lm5hbWUgKHJlcXVpcmVkKSBzdHJpbmcgdXNlZCB0byBpZGVudGlmeSBldmVudCBpbiBkYXNoYm9hcmQuXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50LmV2ZW50UHJvcGVydGllcyAob3B0aW9uYWwpIHRpbWVkIGV2ZW50IHByb3BlcnRpZXMgb2JqZWN0LiBUaGVzZSBwcm9wZXJ0aWVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIGdvaW5nIHRvIGJlIG1lcmdlZCB3aXRoIHByb3BlcnRpZXMgcGFzc2VkIGluIHN0b3AvY2FuY2VsLlxuICAgKiBAcmV0dXJuIHtQcm9taXNlPHN0cmluZz59IFJldHVybnMgYSBwcm9taXNlIHdpdGggZXZlbnRJZCBzdHJpbmcgKEBzZWUgc3RvcFRpbWVkQ3VzdG9tRXZlbnQoKSwgQHNlZSBjYW5jZWxUaW1lZEN1c3RvbUV2ZW50KCkpLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBzdGFydFRpbWVkQ3VzdG9tRXZlbnQodGltZWRFdmVudDogU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0YXJ0KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgdGltZWQgZXZlbnQuIER1cmF0aW9uIGZyb20gYWNjb3JkaW5nIHN0YXJ0IGlzIGNhbGN1bGF0ZWQgYW5kIHNlbmQgd2l0aCB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50IFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRTdG9wIG9iamVjdC5cbiAgICogQHBhcmFtIHRpbWVkRXZlbnQuZXZlbnRJZCAocmVxdWlyZWQpIFVuaXF1ZSBldmVudCBpZCB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhpcyBldmVudC5cbiAgICogQHBhcmFtIHRpbWVkRXZlbnQuZXZlbnRQcm9wZXJ0aWVzIChvcHRpb25hbCkgdGltZWQgZXZlbnQgcHJvcGVydGllcyBvYmplY3QuIFRoZXNlIHByb3BlcnRpZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgZ29pbmcgdG8gYmUgbWVyZ2VkIHdpdGggcHJvcGVydGllcyBwYXNzZWQgaW4gc3RhcnQuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc3RvcFRpbWVkQ3VzdG9tRXZlbnQodGltZWRFdmVudDogU21hcnRsb29rVGltZWRDdXN0b21FdmVudFN0b3ApOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyB0aW1lZCBldmVudC4gSXQgY2FsY3VsYXRlcyBldmVudCBkdXJhdGlvbiBhbmQgbm90ZXMgdGhhdCB0aGlzIGV2ZW50IGhhcyBmYWlsZWQuXG4gICAqIEBwYXJhbSB0aW1lZEV2ZW50IFNtYXJ0bG9va1RpbWVkQ3VzdG9tRXZlbnRDYW5jZWwgb2JqZWN0LlxuICAgKiBAcGFyYW0gdGltZWRFdmVudC5ldmVudElkIChyZXF1aXJlZCkgVW5pcXVlIGV2ZW50IGlkIHRoYXQgaXMgdXNlZCB0byBpZGVudGlmeSB0aGlzIGV2ZW50LlxuICAgKiBAcGFyYW0gdGltZWRFdmVudC5yZWFzb24gKHJlcXVpcmVkKSBTaG9ydCBzdHJpbmcgZGVzY3JpcHRpb24gZXhwbGFpbmluZyB3aHkgdGhlIGV2ZW50IHdhcyBjYW5jZWxlZC5cbiAgICogQHBhcmFtIHRpbWVkRXZlbnQuZXZlbnRQcm9wZXJ0aWVzIChvcHRpb25hbCkgdGltZWQgZXZlbnQgcHJvcGVydGllcyBvYmplY3QuIFRoZXNlIHByb3BlcnRpZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgZ29pbmcgdG8gYmUgbWVyZ2VkIHdpdGggcHJvcGVydGllcyBwYXNzZWQgaW4gc3RhcnQuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgY2FuY2VsVGltZWRDdXN0b21FdmVudCh0aW1lZEV2ZW50OiBTbWFydGxvb2tUaW1lZEN1c3RvbUV2ZW50Q2FuY2VsKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrIGN1c3RvbSBldmVudC5cbiAgICogQHBhcmFtIGV2ZW50IFNtYXJ0bG9va0N1c3RvbUV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIGV2ZW50Lm5hbWUgKHJlcXVpcmVkKSBzdHJpbmcgdXNlZCB0byBpZGVudGlmeSBldmVudC5cbiAgICogQHBhcmFtIGV2ZW50LmV2ZW50UHJvcGVydGllcyAob3B0aW9uYWwpIGV2ZW50IHByb3BlcnRpZXMgb2JqZWN0LlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHRyYWNrQ3VzdG9tRXZlbnQoZXZlbnQ6IFNtYXJ0bG9va0N1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBnbG9iYWwgZXZlbnQgcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gZXZlcnkgdHJhY2tlZCBldmVudC5cbiAgICogQHBhcmFtIHByb3BlcnRpZXMgU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0aWVzIG9iamVjdC5cbiAgICogQHBhcmFtIHByb3BlcnRpZXMuZ2xvYmFsRXZlbnRQcm9wZXJ0aWVzIChyZXF1aXJlZCkgZ2xvYmFsIGV2ZW50IHByb3BlcnRpZXMgb2JqZWN0LlxuICAgKiBAcGFyYW0gcHJvcGVydGllcy5pbW11dGFibGUgKHJlcXVpcmVkKSBJZiBzZXQgdG8gVFJVRSB0aGVzZSBwcm9wZXJ0aWVzIGhhdmUgaGlnaGVyIHByaW9yaXR5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhbiBtdXRhYmxlIG9uZXMgYW5kIGFsc28gdGhleSBjYW5ub3QgYmUgY2hhbmdlZCAob25seSByZW1vdmVkKS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXRHbG9iYWxFdmVudFByb3BlcnRpZXMocHJvcGVydGllczogU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0aWVzKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIFNESyBpcyBjdXJyZW50bHkgcmVjb3JkaW5nLlxuICAgKiBAcGFyYW0gcHJvcGVydHkgU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0eSBvYmplY3QuXG4gICAqIEBwYXJhbSBwcm9wZXJ0eS5rZXkgKHJlcXVpcmVkKSBnbG9iYWwgcHJvcGVydHkga2V5LlxuICAgKiBAcGFyYW0gcHJvcGVydHkudmFsdWUgKHJlcXVpcmVkKSBnbG9iYWwgcHJvcGVydHkgdmFsdWUuXG4gICAqIEBwYXJhbSBwcm9wZXJ0eS5pbW11dGFibGUgKHJlcXVpcmVkKSBJZiBzZXQgdG8gVFJVRSB0aGVzZSBwcm9wZXJ0aWVzIGhhdmUgaGlnaGVyIHByaW9yaXR5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhbiBtdXRhYmxlIG9uZXMgYW5kIGFsc28gdGhleSBjYW5ub3QgYmUgY2hhbmdlZCAob25seSByZW1vdmVkKS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXRHbG9iYWxFdmVudFByb3BlcnR5KHByb3BlcnR5OiBTbWFydGxvb2tHbG9iYWxFdmVudFByb3BlcnR5KTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBwcm9wZXJ0eSBmcm9tIGdsb2JhbCBldmVudCBwcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0gcHJvcGVydHkgU21hcnRsb29rR2xvYmFsRXZlbnRQcm9wZXJ0eUtleSBvYmplY3QuXG4gICAqIEBwYXJhbSBwcm9wZXJ0eS5rZXkgKHJlcXVpcmVkKSBHbG9iYWwgcHJvcGVydHkga2V5LlxuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIHJlbW92ZUdsb2JhbEV2ZW50UHJvcGVydHkocHJvcGVydHk6IFNtYXJ0bG9va0dsb2JhbEV2ZW50UHJvcGVydHlLZXkpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBwcm9wZXJ0aWVzIGZyb20gZ2xvYmFsIGV2ZW50IHByb3BlcnRpZXMuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgcmVtb3ZlQWxsR2xvYmFsRXZlbnRQcm9wZXJ0aWVzKCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3NzaWJpbGl0eSB0byBtYW51YWxseSBzZXQgcmVmZXJyZXIgYW5kIHNvdXJjZSBvZiB0aGUgaW5zdGFsbGF0aW9uIHZpc2libGUgaW4gZGFzaGJvYXJkXG4gICAqIGFuZCBhY2Nlc3NpYmxlIHZpYSBmaWx0ZXJzLlxuICAgKiBAcGFyYW0gcmVmZXJyZXIgU21hcnRsb29rUmVmZXJyZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0gcmVmZXJyZXIucmVmZXJyZXIgKHJlcXVpcmVkKSBEZXNpcmVkIHJlZmVycmVyIHZhbHVlLlxuICAgKiBAcGFyYW0gcmVmZXJyZXIuc291cmNlIChyZXF1aXJlZCkgRGVzaXJlZCBzb3VyY2UsIGkuZS4gY29tLmFuZHJvaWQudmVuZGluZyBvciBjb20uYW1hem9uLnZlbmV6aWEuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc2V0UmVmZXJyZXIocmVmZXJyZXI6IFNtYXJ0bG9va1JlZmVycmVyKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiBzZXNzaW9uIFVSTCBsZWFkaW5nIHRvIG91ciBkYXNoYm9hcmQuXG4gICAqIEBwYXJhbSBzbWFydGxvb2tEYXNoYm9hcmRTZXNzaW9uVXJsIFNtYXJ0bG9va0Rhc2hib2FyZFNlc3Npb25Vcmwgb2JqZWN0LlxuICAgKiBAcGFyYW0gc21hcnRsb29rRGFzaGJvYXJkU2Vzc2lvblVybC53aXRoQ3VycmVudFRpbWVzdGFtcCBJZiBzZXQgdG8gVFJVRSByZWNvcmQgd2lsbCBzdGFydCBhdCBjdXJyZW50IHRpbWVzdGFtcC5cbiAgICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGRhc2hib2FyZCBzZXNzaW9uIFVSTCBzdHJpbmcuXG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGdldERhc2hib2FyZFNlc3Npb25Vcmwoc21hcnRsb29rRGFzaGJvYXJkU2Vzc2lvblVybDogU21hcnRsb29rRGFzaGJvYXJkU2Vzc2lvblVybCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE9idGFpbiB2aXNpdG9yIFVSTCBsZWFkaW5nIHRvIG91ciBkYXNoYm9hcmQuXG4gICAqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBkYXNoYm9hcmQgdmlzaXRvciBVUkwgc3RyaW5nLlxuICAgKi9cbiAgQENvcmRvdmEoKVxuICBnZXREYXNoYm9hcmRWaXNpdG9yVXJsKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVncmF0aW9uIGxpc3RlbmVyIGNhbiBiZSB1c2VkIHRvIG9idGFpbiBkYXNoYm9hcmQgVVJMIGZvciBjdXJyZW50IHNlc3Npb24gYW5kIHZpc2l0b3IuXG4gICAqIFRoZXNlIFVSTHMgY2FuIGJlIHByb3BhZ2F0ZWQgdG8gdmFyaW91cyBhbmFseXRpYyB0b29scy9TREtzLlxuICAgKiBAcGFyYW0gaW50ZWdyYXRpb25MaXN0ZW5lciBTbWFydGxvb2tJbnRlZ3JhdGlvbkxpc3RlbmVyIG9iamVjdC5cbiAgICogQHBhcmFtIGludGVncmF0aW9uTGlzdGVuZXIub25TZXNzaW9uUmVhZHkgQ2FsbGVkIHdoZW4gZGFzaGJvYXJkIHNlc3Npb24gVVJMIGlzIHJlYWR5LiBOb3RlIHRoYXQgdGhpcyBVUkwgY2FuIGJlIGFjY2VzZWQgb25seSBieSB1c2VyXG4gICAqIHRoYXQgaGFzIGFjY2VzcyB0byBTbWFydGxvb2sgZGFzaGJvYXJkIChpdCBpcyBub3QgcHVibGljIHNoYXJlIGxpbmspLlxuICAgKiBAcGFyYW0gaW50ZWdyYXRpb25MaXN0ZW5lci5vblZpc2l0b3JSZWFkeSBDYWxsZWQgd2hlbiBkYXNoYm9hcmQgdmlzaXRvciBVUkwgaXMgcmVhZHkuIE5vdGUgdGhhdCB0aGlzIFVSTCBjYW4gYmUgYWNjZXNlZCBvbmx5IGJ5IHVzZXJcbiAgICogdGhhdCBoYXMgYWNjZXNzIHRvIFNtYXJ0bG9vayBkYXNoYm9hcmQgKGl0IGlzIG5vdCBwdWJsaWMgc2hhcmUgbGluaykuXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgcmVnaXN0ZXJJbnRlZ3JhdGlvbkxpc3RlbmVyKGludGVncmF0aW9uTGlzdGVuZXI6IFNtYXJ0bG9va0ludGVncmF0aW9uTGlzdGVuZXIpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQnkgY2hhbmdpbmcgcmVuZGVyaW5nIG1vZGUgeW91IGNhbiBhZGp1c3QgdGhlIHdheSB3ZSByZW5kZXIgdGhlIGFwcGxpY2F0aW9uIGZvciByZWNvcmRpbmdzLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5yZW5kZXJpbmdNb2RlIE1vZGUgZGVmaW5pbmcgdGhlIHZpZGVvIG91dHB1dCBvZiByZWNvcmRpbmcuIEN1cmVudGx5IG9ubHlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbWFydGxvb2tSZW5kZXJpbmdNb2RlLk5PX1JFTkRFUklORygpIGFuZCBTbWFydGxvb2tSZW5kZXJpbmdNb2RlLk5BVElWRSgpIGF2YWlsYWJsZS5cbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXRSZW5kZXJpbmdNb2RlKHJlbmRlcmluZ01vZGU6IFNtYXJ0bG9va1JlbmRlcmluZ01vZGUpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogVW5yZWdpc3RlciBJbnRlZ3JhdGlvbiBsaXN0ZW5lciAoQHNlZSByZWdpc3RlckludGVncmF0aW9uTGlzdGVuZXIoKSlcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICB1bnJlZ2lzdGVySW50ZWdyYXRpb25MaXN0ZW5lcigpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==